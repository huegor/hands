{"ast":null,"code":"var _jsxFileName = \"/Users/skye/Desktop/Portfolio/2021/chronologies/client/src/components/Graphic_copy.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { select, scaleLinear, axisBottom, linkHorizontal, line, curveMonotoneX, drag, zoom } from \"d3\";\nimport useResizeObserver from \"./useResizeObserver\";\nimport Image from \"./Image\";\nimport Data from \"../data.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Graphic({\n  src,\n  minMax,\n  radius,\n  fontSize\n}) {\n  _s();\n\n  const [data, setData] = useState(src);\n  const [links, setLinks] = useState(); // console.log(links);\n  // const initLinks = () => {\n  //   //unless specified, create new array object that\n  //   //sets current array element to be source and\n  //   //next array element to be target\n  //   for (var i = 0; i <= data.length-1; i++) {\n  //     //if multiple nodes are targets:\n  //     //if this is the last node:\n  //     if (i === data.length-1) {\n  //       return;\n  //     }\n  //     else {\n  //       return (\n  //         {\"source\":data[i], \"target\":data[i+1]}\n  //       )\n  //     }\n  //   }\n  // };\n  // console.log(initLinks);\n  //reference object to pass to svg in React Dom\n\n  const svgRef = useRef(); //svg wrapped in div bc otherwise resize observer callback won't work\n\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  const [currentZoomState, setCurrentZoomState] = useState();\n\n  function initLinks() {\n    const newLinks = [];\n\n    for (var i = 0; i <= data.length - 1; i++) {\n      // console.log(data[i]);\n      //if multiple nodes are targets:\n      //if this is the last node:\n      if (i === data.length - 1) {\n        setLinks(newLinks);\n      }\n\n      ; // console.log([data[i], data[i+1]]);\n\n      newLinks.push({\n        \"source\": data[i],\n        \"target\": data[i + 1]\n      });\n    }\n\n    ;\n  } //all d3 shennanigans goes in this hook. called initially and on every data change\n\n\n  useEffect(() => {\n    initLinks();\n    const svg = select(svgRef.current); //\"svg\" is the current version of svgRef data\n    //prevents crashing when useResizeObserver returns null before svg is rendered\n\n    if (!dimensions) return; //prevents crashing before min and max are calculated\n\n    if (!minMax) return; // console.log(links);\n    //---scales---//\n    //scaleLinear takes domain (data values) & maps onto range (pixel values)\n\n    const xScale = scaleLinear().domain([0, minMax[1]]) //0 is minX, 1 is maxX (reference findMinMax)\n    .range([0, dimensions.width]);\n    const yScale = scaleLinear().domain([0, minMax[3]]) //todo\n    .range([0, dimensions.height]); //inverse scales for drag behavior\n\n    const xScaleInverse = scaleLinear().domain([-dimensions.width, dimensions.width]).range([-minMax[1], minMax[1]]);\n    const yScaleInverse = scaleLinear().domain([-dimensions.height, dimensions.height]).range([-minMax[3], minMax[3]]);\n\n    if (currentZoomState) {\n      const newXScale = currentZoomState.rescaleX(xScale); //zoom state comes w methods for transformations\n\n      xScale.domain(newXScale.domain());\n      xScaleInverse.range([-(newXScale.domain()[1] - newXScale.domain()[0]), newXScale.domain()[1] - newXScale.domain()[0]]);\n    }\n\n    ; //---draw x axis---//\n\n    const xAxis = axisBottom(xScale);\n    svg.select(\".x-axis\").style(\"transform\", `translateY(${dimensions.height}px)`).call(xAxis); //replace class \"x-axis\" w xAxis\n    //--drag behavior--//\n\n    const dragged = drag().on(\"drag\", e => {\n      const newData = [...data]; //always make a copy when updating array\n      //find array element in newData (id = index) and set new x y coordinates\n      //define id as array.length-1\n\n      newData[e.subject.id].x += xScaleInverse(e.dx);\n      newData[e.subject.id].y += yScaleInverse(e.dy); // console.log(newData[e.subject.id].x + \", \" + newData[e.subject.id].y);\n\n      setData(newData);\n    }); //---draw lines---//\n    // const linker = linkHorizontal()\n\n    const myLine = line().x(d => xScale(d.x)).y(d => yScale(d.y)).curve(curveMonotoneX);\n    svg.selectAll(\".line\") //if no line class, it selects x axis too\n    .data([data]) //just draw 1 line for the whole array\n    .join(\"path\").attr(\"class\", \"line\").attr(\"d\", value => myLine(value)).attr(\"fill\", \"none\").attr(\"stroke\", \"black\"); //---draw points---//\n\n    svg.selectAll(\"circle\").data(data).join(\"circle\").attr(\"r\", radius).attr(\"fill\", d => d.color ? d.color : \"black\") //if it has a color other than black, use that\n    .attr(\"cx\", d => xScale(d.x)).attr(\"cy\", d => yScale(d.y)).call(dragged); //---draw labels---//\n\n    svg.selectAll(\".label\").data(data).join(\"text\").attr(\"class\", \"label\").text(node => node.name).attr(\"x\", node => xScale(node.x)).attr(\"y\", node => yScale(node.y + 2)).attr(\"text-anchor\", \"middle\").attr(\"font-size\", fontSize); //---zoom---//\n\n    const zoomBehavior = zoom().scaleExtent([0.25, 5]) //can zoom 2x smaller and 5x bigger\n    .translateExtent([[-100, 0], [dimensions.width + 100, dimensions.height]]) //limits how far graph can pan\n    .on(\"zoom\", e => {\n      const zoomState = e.transform; //returns zoom transformations as an object\n\n      setCurrentZoomState(zoomState);\n    });\n    svg.call(zoomBehavior);\n  }, [data, links, dimensions, currentZoomState, minMax, radius, fontSize]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: wrapperRef,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          className: \"x-axis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"images\",\n      children: Data ? /*#__PURE__*/_jsxDEV(Image, {\n        urls: Data.imgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Graphic, \"fFBoF3eJqPy2m26jNIc+53C9AAs=\", false, function () {\n  return [useResizeObserver];\n});\n\n_c = Graphic;\n;\nexport default Graphic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Graphic\");","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/2021/chronologies/client/src/components/Graphic_copy.js"],"names":["React","useState","useEffect","useRef","select","scaleLinear","axisBottom","linkHorizontal","line","curveMonotoneX","drag","zoom","useResizeObserver","Image","Data","Graphic","src","minMax","radius","fontSize","data","setData","links","setLinks","svgRef","wrapperRef","dimensions","currentZoomState","setCurrentZoomState","initLinks","newLinks","i","length","push","svg","current","xScale","domain","range","width","yScale","height","xScaleInverse","yScaleInverse","newXScale","rescaleX","xAxis","style","call","dragged","on","e","newData","subject","id","x","dx","y","dy","myLine","d","curve","selectAll","join","attr","value","color","text","node","name","zoomBehavior","scaleExtent","translateExtent","zoomState","transform","imgs"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { select, scaleLinear, axisBottom, linkHorizontal, line, curveMonotoneX, drag, zoom } from \"d3\";\nimport useResizeObserver from \"./useResizeObserver\";\nimport Image from \"./Image\";\nimport Data from \"../data.json\";\n\n\n\nfunction Graphic({src, minMax, radius, fontSize}) {\n  const [data, setData] = useState(src);\n  const [links, setLinks] = useState();\n  // console.log(links);\n  // const initLinks = () => {\n  //   //unless specified, create new array object that\n  //   //sets current array element to be source and\n  //   //next array element to be target\n  //   for (var i = 0; i <= data.length-1; i++) {\n  //     //if multiple nodes are targets:\n  //     //if this is the last node:\n  //     if (i === data.length-1) {\n  //       return;\n  //     }\n  //     else {\n  //       return (\n  //         {\"source\":data[i], \"target\":data[i+1]}\n  //       )\n  //     }\n  //   }\n  // };\n  // console.log(initLinks);\n\n  //reference object to pass to svg in React Dom\n  const svgRef = useRef();\n  //svg wrapped in div bc otherwise resize observer callback won't work\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  const [currentZoomState, setCurrentZoomState] = useState();\n\n  function initLinks() {\n    const newLinks = [];\n    for (var i = 0; i <= data.length-1; i++) {\n      // console.log(data[i]);\n      //if multiple nodes are targets:\n      //if this is the last node:\n      if (i === data.length-1){\n        setLinks(newLinks);\n      };\n      // console.log([data[i], data[i+1]]);\n      newLinks.push({\"source\":data[i], \"target\":data[i+1]});\n    };\n  }\n\n  //all d3 shennanigans goes in this hook. called initially and on every data change\n  useEffect(() => {\n    initLinks();\n    const svg = select(svgRef.current); //\"svg\" is the current version of svgRef data\n    //prevents crashing when useResizeObserver returns null before svg is rendered\n    if (!dimensions) return;\n    //prevents crashing before min and max are calculated\n    if (!minMax) return;\n\n    // console.log(links);\n    //---scales---//\n    //scaleLinear takes domain (data values) & maps onto range (pixel values)\n    const xScale = scaleLinear()\n      .domain([0, minMax[1]]) //0 is minX, 1 is maxX (reference findMinMax)\n      .range([0, dimensions.width]);\n    const yScale = scaleLinear()\n      .domain([0, minMax[3]]) //todo\n      .range([0, dimensions.height]);\n    //inverse scales for drag behavior\n    const xScaleInverse = scaleLinear()\n      .domain([-dimensions.width, dimensions.width])\n      .range([-minMax[1], minMax[1]]);\n    const yScaleInverse = scaleLinear()\n      .domain([-dimensions.height, dimensions.height])\n      .range([-minMax[3], minMax[3]]);\n\n    if (currentZoomState) {\n      const newXScale = currentZoomState.rescaleX(xScale); //zoom state comes w methods for transformations\n      xScale.domain(newXScale.domain());\n      xScaleInverse.range([\n        -(newXScale.domain()[1]-newXScale.domain()[0]),\n        (newXScale.domain()[1]-newXScale.domain()[0])\n      ]);\n    };\n\n    //---draw x axis---//\n    const xAxis = axisBottom(xScale);\n\n    svg\n      .select(\".x-axis\")\n      .style(\"transform\", `translateY(${dimensions.height}px)`)\n      .call(xAxis); //replace class \"x-axis\" w xAxis\n\n    //--drag behavior--//\n    const dragged = drag()\n      .on(\"drag\", e => {\n        const newData = [...data]; //always make a copy when updating array\n        //find array element in newData (id = index) and set new x y coordinates\n        //define id as array.length-1\n        newData[e.subject.id].x += xScaleInverse(e.dx);\n        newData[e.subject.id].y += yScaleInverse(e.dy);\n        // console.log(newData[e.subject.id].x + \", \" + newData[e.subject.id].y);\n        setData(newData);\n      });\n\n    //---draw lines---//\n    // const linker = linkHorizontal()\n\n    const myLine = line()\n      .x(d => xScale(d.x))\n      .y(d => yScale(d.y))\n      .curve(curveMonotoneX);\n\n    svg\n      .selectAll(\".line\") //if no line class, it selects x axis too\n      .data([data]) //just draw 1 line for the whole array\n      .join(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"d\", value => myLine(value))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"black\");\n\n\n    //---draw points---//\n    svg\n      .selectAll(\"circle\")\n      .data(data)\n      .join(\"circle\")\n      .attr(\"r\", radius)\n      .attr(\"fill\", d => d.color ? d.color : \"black\") //if it has a color other than black, use that\n      .attr(\"cx\", d => xScale(d.x))\n      .attr(\"cy\", d => yScale(d.y))\n      .call(dragged);\n\n    //---draw labels---//\n    svg\n    .selectAll(\".label\")\n    .data(data)\n    .join(\"text\")\n    .attr(\"class\", \"label\")\n    .text(node => node.name)\n    .attr(\"x\", node => xScale(node.x))\n    .attr(\"y\", node => yScale(node.y + 2))\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"font-size\", fontSize);\n\n    //---zoom---//\n    const zoomBehavior = zoom()\n      .scaleExtent([0.25, 5]) //can zoom 2x smaller and 5x bigger\n      .translateExtent([[-100, 0], [dimensions.width+100, dimensions.height]]) //limits how far graph can pan\n      .on(\"zoom\", e => {\n        const zoomState = e.transform; //returns zoom transformations as an object\n        setCurrentZoomState(zoomState);\n      });\n\n    svg.call(zoomBehavior);\n  }, [data, links, dimensions, currentZoomState, minMax, radius, fontSize]);\n\n  return (\n    <>\n    <div ref={wrapperRef}>\n      <svg ref={svgRef}>\n        <g className=\"x-axis\" />\n      </svg>\n    </div>\n    <div className=\"images\">\n      {Data ? <Image urls={Data.imgs}/> : null}\n    </div>\n    </>\n  );\n};\n\nexport default Graphic;\n"]},"metadata":{},"sourceType":"module"}