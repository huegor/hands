{"ast":null,"code":"/*\n  - delete an individual instant\n*/\nfunction deleteInterval(target, data, updateSrc) {\n  const newData = { ...data\n  };\n  const srcKey = target.source[0];\n  const targetKey = target.target[0];\n  const dataValues = Object.entries(newData).map(([k, v]) => v); //comb thru data and delete all references to deleted instant\n\n  dataValues.forEach(v => {\n    if (!v.target) {\n      return;\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\n      return;\n    } else {\n      //if v.target includes key\n      if (v.target.length > 1) {\n        //if multiple, delete only key\n        v.target = v.target.filter(x => x !== srcKey && x !== targetKey);\n      } else {\n        //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n  delete newData[srcKey];\n  delete newData[targetKey];\n  updateSrc(newData);\n}\n\n;\nexport default deleteInterval;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/2021/chronologies/client/src/components/deleteInterval.js"],"names":["deleteInterval","target","data","updateSrc","newData","srcKey","source","targetKey","dataValues","Object","entries","map","k","v","forEach","includes","length","filter","x"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,IAAhC,EAAsCC,SAAtC,EAAiD;AAC/C,QAAMC,OAAO,GAAG,EAAC,GAAGF;AAAJ,GAAhB;AACA,QAAMG,MAAM,GAAGJ,MAAM,CAACK,MAAP,CAAc,CAAd,CAAf;AACA,QAAMC,SAAS,GAAGN,MAAM,CAACA,MAAP,CAAc,CAAd,CAAlB;AACA,QAAMO,UAAU,GAAGC,MAAM,CAACC,OAAP,CAAeN,OAAf,EAAwBO,GAAxB,CAA4B,CAAC,CAACC,CAAD,EAAGC,CAAH,CAAD,KAAWA,CAAvC,CAAnB,CAJ+C,CAM/C;;AACAL,EAAAA,UAAU,CAACM,OAAX,CAAmBD,CAAC,IAAI;AACtB,QAAI,CAACA,CAAC,CAACZ,MAAP,EAAe;AACb;AACD,KAFD,MAEO,IAAI,CAACY,CAAC,CAACZ,MAAF,CAASc,QAAT,CAAkBV,MAAlB,CAAD,IAA8B,CAACQ,CAAC,CAACZ,MAAF,CAASc,QAAT,CAAkBR,SAAlB,CAAnC,EAAiE;AACtE;AACD,KAFM,MAEA;AAAE;AACP,UAAIM,CAAC,CAACZ,MAAF,CAASe,MAAT,GAAkB,CAAtB,EAAyB;AAAE;AACzBH,QAAAA,CAAC,CAACZ,MAAF,GAAWY,CAAC,CAACZ,MAAF,CAASgB,MAAT,CAAiBC,CAAD,IAAQA,CAAC,KAAKb,MAAP,IAAmBa,CAAC,KAAKX,SAAhD,CAAX;AACD,OAFD,MAEO;AAAE;AACPM,QAAAA,CAAC,CAACZ,MAAF,GAAW,IAAX;AACD;AACF;AACF,GAZD;AAcA,SAAOG,OAAO,CAACC,MAAD,CAAd;AACA,SAAOD,OAAO,CAACG,SAAD,CAAd;AACAJ,EAAAA,SAAS,CAACC,OAAD,CAAT;AACD;;AAAA;AAED,eAAeJ,cAAf","sourcesContent":["/*\n  - delete an individual instant\n*/\n\nfunction deleteInterval(target, data, updateSrc) {\n  const newData = {...data};\n  const srcKey = target.source[0];\n  const targetKey = target.target[0];\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\n\n  //comb thru data and delete all references to deleted instant\n  dataValues.forEach(v => {\n    if (!v.target) {\n      return;\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\n      return;\n    } else { //if v.target includes key\n      if (v.target.length > 1) { //if multiple, delete only key\n        v.target = v.target.filter((x) => (x !== srcKey) && (x !== targetKey));\n      } else { //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n\n  delete newData[srcKey];\n  delete newData[targetKey];\n  updateSrc(newData);\n};\n\nexport default deleteInterval;\n"]},"metadata":{},"sourceType":"module"}