{"ast":null,"code":"import _defineProperty from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import InputFormText from'./InputFormText';import InputFormNum from'./InputFormNum';/*\n   UI and function for adding new scales.\n   Eventually split into 2 different components: NewXScaleForm and NewYScaleForm\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewScaleForm(_ref){var src=_ref.src,updateSrc=_ref.updateSrc,setToggle=_ref.setToggle,setActiveScale=_ref.setActiveScale;//values for form, mutable by onChange\nvar _useState=useState({//for x scale\nxName:\"\",xMin:\"\",xMax:\"\",xUnits:\"\",xYPos:\"\",xTickValues:\"\",xHideUnits:false,xSegmentsNum:0,//for y scale\nyName:\"\",yMin:\"\",yMax:\"\",yUnits:\"\",yPercent:\"\",yHideUnits:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var handleChange=function handleChange(e){e.preventDefault();//checkbox is being weird (value updates 1 render behind), setting its values directly\nvar _e$target=e.target,value=_e$target.value,name=_e$target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var newScales=_objectSpread({},src.scales);var tempxMin=parseFloat(values.xMin);var tempxMax=parseFloat(values.xMax);var tempYPos=parseFloat(values.xYPos);//for x scale\nvar tempyMin=parseFloat(values.yMin);var tempyMax=parseFloat(values.yMax);if(tempxMin>=tempxMax){alert(\"Minimum Value must be less than or equal to Maximum Value!\");return;}else if(tempYPos>1){alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");return;}//else if (scale name already exists) {\n//\n// };\n//generate new x scale\nnewScales.x[values.xName]={\"min\":tempxMin,\"max\":tempxMax,\"units\":values.xUnits,\"yPos\":tempYPos,// \"hideUnits\":values.xHideUnits,\n\"segments\":[]//todo\n};newScales.y[values.yName]=_objectSpread({\"min\":tempyMin,\"max\":tempyMax,\"units\":values.yUnits},values.yPercent&&{\"percent\":values.yPercent});// console.log(newScales)\nupdateSrc(newScales,\"scales\");setActiveScale([values.xName,values.yName]);//move to updateSrc\nsetToggle(null);};var handleClose=function handleClose(e){setToggle(null);e.preventDefault();};/*\n  <label className=\"textSecondary\">\n    Hide Label\n    <input type=\"checkbox\"\n      name=\"xHideUnits\"\n      value={values.xHideUnits}\n      onChange={(e) => setValues({...values, xHideUnits:e.target.checked})}\n    />\n  </label>\n  */return/*#__PURE__*/_jsxs(\"form\",{className:\"ui absolute center container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"textSecondary\",children:/*#__PURE__*/_jsx(\"b\",{children:\"x scale\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormText,{label:\"Name\",name:\"xName\",value:values.xName,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormText,{label:\"Units Label\",name:\"xUnits\",placeholder:\"ie: Years\",value:values.xUnits,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Minimum Value\",name:\"xMin\",placeholder:\"#s for now\",value:values.xMin,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Maximum Value\",name:\"xMax\",placeholder:\"#s for now\",value:values.xMax,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Screen Position\",name:\"xYPos\",placeholder:\"0 (top) - 1 (bottom)\",value:values.xYPos,handleChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Segments\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"granularities within scale\",name:\"xSegmentsNum\",value:values.xSegmentsNum,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"textSecondary\",children:/*#__PURE__*/_jsx(\"b\",{children:\"y scale\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormText,{label:\"Name\",name:\"yName\",value:values.yName,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormText,{label:\"Units Label\",name:\"yUnits\",placeholder:\"ie: Years\",value:values.yUnits,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Minimum Value\",name:\"yMin\",placeholder:\"#s for now\",value:values.yMin,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Maximum Value\",name:\"yMax\",placeholder:\"#s for now\",value:values.yMax,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleClose,children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleSubmit,children:\"Submit\"})]})]});};export default NewScaleForm;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/chronovis/src/components/NewScaleForm.js"],"names":["React","useState","InputFormText","InputFormNum","NewScaleForm","src","updateSrc","setToggle","setActiveScale","xName","xMin","xMax","xUnits","xYPos","xTickValues","xHideUnits","xSegmentsNum","yName","yMin","yMax","yUnits","yPercent","yHideUnits","values","setValues","handleChange","e","preventDefault","target","value","name","handleSubmit","newScales","scales","tempxMin","parseFloat","tempxMax","tempYPos","tempyMin","tempyMax","alert","x","y","handleClose"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new scales.\n   Eventually split into 2 different components: NewXScaleForm and NewYScaleForm\n*/\n\n\nfunction NewScaleForm({src, updateSrc, setToggle, setActiveScale}) {\n\n  //values for form, mutable by onChange\n  const [values, setValues] = useState({\n    //for x scale\n    xName:\"\",\n    xMin:\"\",\n    xMax:\"\",\n    xUnits:\"\",\n    xYPos:\"\",\n    xTickValues:\"\",\n    xHideUnits:false,\n    xSegmentsNum:0,\n    //for y scale\n    yName:\"\",\n    yMin:\"\",\n    yMax:\"\",\n    yUnits:\"\",\n    yPercent:\"\",\n    yHideUnits:false\n  });\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newScales = {...src.scales};\n\n    const tempxMin = parseFloat(values.xMin);\n    const tempxMax = parseFloat(values.xMax);\n    const tempYPos = parseFloat(values.xYPos); //for x scale\n    const tempyMin = parseFloat(values.yMin);\n    const tempyMax = parseFloat(values.yMax);\n\n    if (tempxMin>=tempxMax) {\n      alert(\"Minimum Value must be less than or equal to Maximum Value!\");\n      return;\n    } else if (tempYPos>1) {\n      alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");\n      return;\n    } //else if (scale name already exists) {\n    //\n    // };\n\n    //generate new x scale\n    newScales.x[values.xName] = {\n      \"min\": tempxMin,\n      \"max\": tempxMax,\n      \"units\": values.xUnits,\n      \"yPos\": tempYPos,\n      // \"hideUnits\":values.xHideUnits,\n      \"segments\": [] //todo\n    }\n    newScales.y[values.yName] = {\n      \"min\": tempyMin,\n      \"max\": tempyMax,\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n      // \"hideUnits\":values.yHideUnits,\n    }\n\n    // console.log(newScales)\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xName, values.yName]); //move to updateSrc\n    setToggle(null);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  /*\n  <label className=\"textSecondary\">\n    Hide Label\n    <input type=\"checkbox\"\n      name=\"xHideUnits\"\n      value={values.xHideUnits}\n      onChange={(e) => setValues({...values, xHideUnits:e.target.checked})}\n    />\n  </label>\n  */\n  return (\n    <form className=\"ui absolute center container\">\n      <span className=\"textSecondary\"><b>x scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"xName\"\n        value={values.xName}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Screen Position\"\n        name=\"xYPos\"\n        placeholder=\"0 (top) - 1 (bottom)\"\n        value={values.xYPos}\n        handleChange={handleChange}\n        required={true}\n      />\n      <label className=\"textSecondary\">\n        Segments\n        <input\n          type=\"number\"\n          placeholder=\"granularities within scale\"\n          name=\"xSegmentsNum\"\n          value={values.xSegmentsNum}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <span className=\"textSecondary\"><b>y scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"yName\"\n        value={values.yName}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"yUnits\"\n        placeholder=\"ie: Years\"\n        value={values.yUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"yMin\"\n        placeholder=\"#s for now\"\n        value={values.yMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"yMax\"\n        placeholder=\"#s for now\"\n        value={values.yMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewScaleForm;\n"]},"metadata":{},"sourceType":"module"}