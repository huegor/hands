{"ast":null,"code":"var _jsxFileName = \"/Users/skye/Desktop/Portfolio/2021/chronologies/client/src/components/NewIntervalForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NewIntervalForm({\n  data,\n  updateSrc,\n  setToggle,\n  scales,\n  activeScale,\n  history,\n  setHistory\n}) {\n  _s();\n\n  const [values, setValues] = useState({\n    text: '',\n    xValue1: '',\n    yValue1: '',\n    xValue2: '',\n    yValue2: '',\n    xScale: activeScale[0],\n    yScale: activeScale[1],\n    color: '',\n    opacity: '',\n    width: ''\n  }); // const [text, setText] = useState(\"\");\n  // const [xValue1, setXValue1] = useState(\"\");\n  // const [yValue1, setYValue1] = useState(\"\");\n  // const [xValue2, setXValue2] = useState(\"\");\n  // const [yValue2, setYValue2] = useState(\"\");\n  // const [select, setSelect] = useState(activeScale);\n  // // const scalesList = Object.keys(scales).map((key, i) => {\n  // //   return <option value={key} key={i}>{key}</option>\n  // // });\n  // //optional parameters\n  // const [color, setColor] = useState(\"\");\n  // const [opacity, setOpacity] = useState(\"\");\n  // const [width, setWidth] = useState(\"\");\n  // const [dashed, setDashed] = useState(\"\");\n\n  const handleChange = e => {\n    e.preventDefault(); //checkbox is being weird (value updates 1 render behind), setting its values directly\n\n    const {\n      value,\n      name\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newData = { ...data\n    };\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempX1 = parseFloat(values.xValue1);\n    const tempY1 = values.yValue1 ? parseFloat(values.yValue1) : null; //if y pos specified, convert to float. otherwise, return null\n\n    const tempX2 = parseFloat(values.xValue2);\n    const tempY2 = values.yValue2 ? parseFloat(values.yValue2) : null; //error handling. btw, isNan(null) === false\n\n    if (isNaN(tempX1) || isNaN(tempY1) || isNaN(tempX2) || isNaN(tempY2)) {\n      alert(\"Make sure all Times and y Positions are numbers!\");\n    } else {\n      //generate first instant\n      newData[`${lastKey + 1}`] = {\n        \"text\": \"\",\n        \"x\": tempX1,\n        \"y\": values.yValue1 ? tempY1 : lastInstant ? lastInstant.y : 0,\n        // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": [`${lastKey + 2}`],\n        ...(values.text && {\n          \"intervalText\": values.text\n        }),\n        ...(values.color && {\n          \"intervalColor\": values.color\n        }),\n        ...(values.width && {\n          \"intervalWidth\": values.width\n        }),\n        ...(values.opacity && {\n          \"intervalOpacity\": values.opacity\n        })\n      }; //generate second instant\n\n      newData[`${lastKey + 2}`] = {\n        \"text\": \"\",\n        \"x\": tempX2,\n        \"y\": yValue2 ? tempY2 : lastInstant ? lastInstant.y : 0,\n        // if y not specified, take value of last instant\n        \"scale\": select,\n        \"target\": null\n      };\n    }\n\n    ;\n    updateSrc(newData);\n  };\n\n  const handleClose = e => {\n    setToggle(null);\n    e.preventDefault();\n  };\n  /*\n  <label>\n    Dashed\n    <input\n      type=\"text\"\n      placeholder=\"i.e: 5\"\n      value={dashed}\n      onChange={handleChange}\n    />\n  </label><br/><br/>\n  */\n\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"ui absolute center container\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Label\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"redText\",\n        children: \"* \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"text\",\n        placeholder: \"any unicode character\",\n        value: values.text,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(InputFormScale, {\n      scales: scales.x,\n      label: \"X Scale\",\n      name: \"xSelect\",\n      value: values.xSelect,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputFormScale, {\n      scales: scales.y,\n      label: \"Y Scale\",\n      name: \"ySelect\",\n      value: values.ySelect,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"Start:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Time\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"redText\",\n        children: \"* \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"xValue1\",\n        placeholder: \"numbers only\",\n        value: values.xValue1,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"y Position\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"yValue1\",\n        placeholder: \"#s only (default 0)\",\n        value: values.yValue1,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"End:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Time\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"redText\",\n        children: \"* \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"xValue2\",\n        placeholder: \"numbers only\",\n        value: values.xValue2,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"y Position\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"#s only (default 0)\",\n        name: \"yValue2\",\n        value: values.yValue2,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n      children: \"Properties:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Color\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"blue, #4DA6FF, etc.\",\n        name: \"color\",\n        value: values.color,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Width\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"width\",\n        placeholder: \"1.67\",\n        value: values.width,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Certainty\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"0-1\",\n        name: \"opacity\",\n        value: values.opacity,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flexCenter\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonSecondary\",\n        onClick: this.handleClose,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonSecondary\",\n        onClick: this.handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewIntervalForm, \"DkRe+uB5+ve8A+Pg0nWq8lW+/9k=\");\n\n_c = NewIntervalForm;\nexport default NewIntervalForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewIntervalForm\");","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/2021/chronologies/client/src/components/NewIntervalForm.js"],"names":["React","useState","InputFormScale","InputFormText","InputFormNum","NewIntervalForm","data","updateSrc","setToggle","scales","activeScale","history","setHistory","values","setValues","text","xValue1","yValue1","xValue2","yValue2","xScale","yScale","color","opacity","width","handleChange","e","preventDefault","value","name","target","handleSubmit","newData","lastKey","Object","keys","pop","parseInt","lastInstant","tempX1","parseFloat","tempY1","tempX2","tempY2","isNaN","alert","y","select","handleClose","x","xSelect","ySelect"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\nfunction NewIntervalForm({data, updateSrc, setToggle, scales, activeScale, history, setHistory}) {\n\n  const [values, setValues] = useState({\n    text: '',\n    xValue1:'',\n    yValue1:'',\n    xValue2:'',\n    yValue2:'',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    color:'',\n    opacity:'',\n    width:''\n  });\n\n  // const [text, setText] = useState(\"\");\n  // const [xValue1, setXValue1] = useState(\"\");\n  // const [yValue1, setYValue1] = useState(\"\");\n  // const [xValue2, setXValue2] = useState(\"\");\n  // const [yValue2, setYValue2] = useState(\"\");\n  // const [select, setSelect] = useState(activeScale);\n  // // const scalesList = Object.keys(scales).map((key, i) => {\n  // //   return <option value={key} key={i}>{key}</option>\n  // // });\n  // //optional parameters\n  // const [color, setColor] = useState(\"\");\n  // const [opacity, setOpacity] = useState(\"\");\n  // const [width, setWidth] = useState(\"\");\n  // const [dashed, setDashed] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newData = {...data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempX1 = parseFloat(values.xValue1);\n    const tempY1 = values.yValue1 ? parseFloat(values.yValue1) : null; //if y pos specified, convert to float. otherwise, return null\n    const tempX2 = parseFloat(values.xValue2);\n    const tempY2 = values.yValue2 ? parseFloat(values.yValue2) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempX1) || isNaN(tempY1) || isNaN(tempX2) || isNaN(tempY2)) {\n      alert(\"Make sure all Times and y Positions are numbers!\");\n    } else {\n      //generate first instant\n      newData[`${lastKey+1}`] = {\n        \"text\": \"\",\n        \"x\":tempX1,\n        \"y\": values.yValue1 ? tempY1 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": [`${lastKey+2}`],\n        ...(values.text && {\"intervalText\": values.text}),\n        ...(values.color && {\"intervalColor\": values.color}),\n        ...(values.width && {\"intervalWidth\": values.width}),\n        ...(values.opacity && {\"intervalOpacity\": values.opacity})\n      };\n      //generate second instant\n      newData[`${lastKey+2}`] = {\n        \"text\": \"\",\n        \"x\":tempX2,\n        \"y\": yValue2 ? tempY2 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": select,\n        \"target\": null\n      };\n    };\n\n    updateSrc(newData);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n/*\n<label>\n  Dashed\n  <input\n    type=\"text\"\n    placeholder=\"i.e: 5\"\n    value={dashed}\n    onChange={handleChange}\n  />\n</label><br/><br/>\n*/\n  return (\n    <form className=\"ui absolute center container\">\n      <label>\n        Label<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"text\"\n          placeholder=\"any unicode character\"\n          value={values.text}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={values.xSelect}\n        onChange={handleChange}\n      />\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      />\n      <b>Start:</b><br/>\n      <label>\n        Time<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"xValue1\"\n          placeholder=\"numbers only\"\n          value={values.xValue1}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        y Position\n        <input\n          type=\"text\"\n          name=\"yValue1\"\n          placeholder=\"#s only (default 0)\"\n          value={values.yValue1}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <b>End:</b><br/>\n      <label>\n        Time<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"xValue2\"\n          placeholder=\"numbers only\"\n          value={values.xValue2}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        y Position\n        <input\n          type=\"text\"\n          placeholder=\"#s only (default 0)\"\n          name=\"yValue2\"\n          value={values.yValue2}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <b>Properties:</b><br/>\n      <label>\n        Color\n        <input\n          type=\"text\"\n          placeholder=\"blue, #4DA6FF, etc.\"\n          name=\"color\"\n          value={values.color}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Width\n        <input\n          type=\"number\"\n          name=\"width\"\n          placeholder=\"1.67\"\n          value={values.width}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Certainty\n        <input\n          type=\"number\"\n          placeholder=\"0-1\"\n          name=\"opacity\"\n          value={values.opacity}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={this.handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={this.handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewIntervalForm;\n"]},"metadata":{},"sourceType":"module"}