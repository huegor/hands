{"ast":null,"code":"import _defineProperty from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import InputFormScale from'./InputFormScale';import InputFormText from'./InputFormText';import InputFormNum from'./InputFormNum';/*\n   UI and function for adding new zones.\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditScaleForm(_ref){var scales=_ref.scales,updateSrc=_ref.updateSrc,setToggle=_ref.setToggle,activeScale=_ref.activeScale,setActiveScale=_ref.setActiveScale;var xScale=scales.x[activeScale[0]];var yScale=scales.y[activeScale[1]];var _useState=useState({//for x scale\nxSelect:activeScale[0],xMin:xScale.min,xMax:xScale.max,xUnits:xScale.units,xYPos:xScale.yPos,xTickValues:xScale.tickValues,xHideUnits:xScale.hideUnits,xSegmentsNum:xScale.segments.length,//for y scale\nySelect:activeScale[1],yMin:yScale.min,yMax:yScale.max,yUnits:yScale.units,yPercent:yScale.percent,yHideUnits:yScale.hideUnits}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];//go thru list of scales in ChronoJSON and create a selection entry for each\n// const scalesList = Object.keys(scales.x).map((key, i) => {\n//   return <option value={key} key={i}>{key}</option>\n// });\n// const [min, setMin] = useState();\n// const [max, setMax] = useState();\n// const [units, setUnits] = useState();\n// const [yPos, setYPos] = useState();\n// //optional parameters\n// const [segmentsNum, setSegmentNum] = useState([]);\nvar handleChange=function handleChange(e){e.preventDefault();//checkbox is being weird (value updates 1 render behind), setting its values directly\nvar _e$target=e.target,value=_e$target.value,name=_e$target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){//setHistory\nvar newScales=_objectSpread({},scales);//update existing scale\nnewScales.x[values.xSelect]={\"min\":parseFloat(values.xMin),\"max\":parseFloat(values.xMax),\"units\":values.xUnits,\"yPos\":parseFloat(values.xYPos),\"segments\":[]//todo\n};newScales.y[values.ySelect]=_objectSpread({\"min\":parseFloat(values.yMin),\"max\":parseFloat(values.yMax),\"units\":values.yUnits},values.yPercent&&{\"percent\":values.yPercent});updateSrc(newScales,\"scales\");setActiveScale([values.xSelect,values.ySelect]);//move to updateSrc\nsetToggle(null);e.preventDefault();};var handleClose=function handleClose(e){setToggle(null);e.preventDefault();};return/*#__PURE__*/_jsxs(\"form\",{className:\"ui absolute center container\",children:[/*#__PURE__*/_jsx(InputFormScale,{scales:scales.x,label:\"X Scale\",name:\"xSelect\",value:values.xSelect,onChange:handleChange}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Minimum Value\",name:\"xMin\",placeholder:\"#s for now\",value:values.xMin,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormNum,{label:\"Maximum Value\",name:\"xMax\",placeholder:\"#s for now\",value:values.xMax,handleChange:handleChange,required:true}),/*#__PURE__*/_jsx(InputFormText,{label:\"Units Label\",name:\"xUnits\",placeholder:\"ie: Years\",value:values.xUnits,handleChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Screen Position\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"0 (top) - 1 (bottom)\",name:\"xYPos\",value:values.xYPos,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Segments\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"granularities within scale\",name:\"xSegmentsNum\",value:values.xSegmentsNum,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormScale,{scales:scales.y,label:\"Y Scale\",name:\"ySelect\",value:values.ySelect,onChange:handleChange}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Minimum Value\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"#s for now\",name:\"yMin\",value:values.yMin,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Maximum Value\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"#s for now\",name:\"yMax\",value:values.yMax,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"textSecondary\",children:[\"Units Label\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ie: Years\",name:\"yUnits\",value:values.yUnits,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleClose,children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleSubmit,children:\"Submit\"})]})]});};export default EditScaleForm;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/chronovis/src/components/EditScaleForm.js"],"names":["React","useState","InputFormScale","InputFormText","InputFormNum","EditScaleForm","scales","updateSrc","setToggle","activeScale","setActiveScale","xScale","x","yScale","y","xSelect","xMin","min","xMax","max","xUnits","units","xYPos","yPos","xTickValues","tickValues","xHideUnits","hideUnits","xSegmentsNum","segments","length","ySelect","yMin","yMax","yUnits","yPercent","percent","yHideUnits","values","setValues","handleChange","e","preventDefault","target","value","name","handleSubmit","newScales","parseFloat","handleClose"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction EditScaleForm({scales, updateSrc, setToggle, activeScale, setActiveScale}) {\n  const xScale = scales.x[activeScale[0]];\n  const yScale = scales.y[activeScale[1]];\n\n  const [values, setValues] = useState({\n    //for x scale\n    xSelect:activeScale[0],\n    xMin:xScale.min,\n    xMax:xScale.max,\n    xUnits:xScale.units,\n    xYPos:xScale.yPos,\n    xTickValues:xScale.tickValues,\n    xHideUnits:xScale.hideUnits,\n    xSegmentsNum:xScale.segments.length,\n    //for y scale\n    ySelect:activeScale[1],\n    yMin:yScale.min,\n    yMax:yScale.max,\n    yUnits:yScale.units,\n    yPercent:yScale.percent,\n    yHideUnits:yScale.hideUnits\n  });\n\n\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  // const scalesList = Object.keys(scales.x).map((key, i) => {\n  //   return <option value={key} key={i}>{key}</option>\n  // });\n  // const [min, setMin] = useState();\n  // const [max, setMax] = useState();\n  // const [units, setUnits] = useState();\n  // const [yPos, setYPos] = useState();\n  // //optional parameters\n  // const [segmentsNum, setSegmentNum] = useState([]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    //setHistory\n    const newScales = {...scales};\n    //update existing scale\n    newScales.x[values.xSelect] = {\n      \"min\": parseFloat(values.xMin),\n      \"max\": parseFloat(values.xMax),\n      \"units\": values.xUnits,\n      \"yPos\": parseFloat(values.xYPos),\n      \"segments\": [] //todo\n    }\n\n    newScales.y[values.ySelect] = {\n      \"min\": parseFloat(values.yMin),\n      \"max\": parseFloat(values.yMax),\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n    }\n\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xSelect, values.ySelect]); //move to updateSrc\n    setToggle(null);\n    e.preventDefault();\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={values.xSelect}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <label className=\"textSecondary\">\n        Screen Position<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          placeholder=\"0 (top) - 1 (bottom)\"\n          name=\"xYPos\"\n          value={values.xYPos}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Segments\n        <input\n          type=\"number\"\n          placeholder=\"granularities within scale\"\n          name=\"xSegmentsNum\"\n          value={values.xSegmentsNum}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      />\n      <label className=\"textSecondary\">\n        Minimum Value<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s for now\"\n          name=\"yMin\"\n          value={values.yMin}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Maximum Value<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s for now\"\n          name=\"yMax\"\n          value={values.yMax}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Units Label<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"ie: Years\"\n          name=\"yUnits\"\n          value={values.yUnits}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default EditScaleForm;\n"]},"metadata":{},"sourceType":"module"}