{"ast":null,"code":"import _defineProperty from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import InputFormScale from'./InputFormScale';import InputFormText from'./InputFormText';import InputFormNum from'./InputFormNum';/*\n   UI and function for adding new zones.\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewZoneForm(_ref){var zones=_ref.zones,updateSrc=_ref.updateSrc,setToggle=_ref.setToggle,scales=_ref.scales,activeScale=_ref.activeScale;var _useState=useState({text:'',xScale:activeScale[0],yScale:activeScale[1],start:'',end:'',yValue2:'',yStart:'',yEnd:'',color:'',opacity:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),label=_useState4[0],setLabel=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),end=_useState8[0],setEnd=_useState8[1];var _useState9=useState(activeScale),_useState10=_slicedToArray(_useState9,2),select=_useState10[0],setSelect=_useState10[1];//go thru list of scales in ChronoJSON and create a selection entry for each\nvar scalesList=Object.keys(scales).map(function(key,i){return/*#__PURE__*/_jsx(\"option\",{value:key,children:key},i);});//optional parameters\nvar _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),yStart=_useState12[0],setYStart=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),yEnd=_useState14[0],setYEnd=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),color=_useState16[0],setColor=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),opacity=_useState18[0],setOpacity=_useState18[1];var handleChange=function handleChange(e){e.preventDefault();//checkbox is being weird (value updates 1 render behind), setting its values directly\nvar _e$target=e.target,value=_e$target.value,name=_e$target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){var newZones=_objectSpread({},zones);var lastKey=Object.keys(newZones).pop()?parseInt(Object.keys(newZones).pop()):-1;//generate new zone\nnewZones[\"\".concat(lastKey+1)]=_objectSpread(_objectSpread(_objectSpread(_objectSpread({\"text\":values.text,\"start\":parseFloat(values.start),//cases where start > end?\n\"end\":parseFloat(values.end),\"scale\":[values.xScale,values.yScale]},values.yStart&&{\"yStart\":values.yStart}),values.yEnd&&{\"yEnd\":values.yEnd}),values.color&&{\"color\":values.color}),values.opacity&&{\"opacity\":values.opacity});updateSrc(newZones,\"zones\");e.preventDefault();};var handleClose=function handleClose(e){setToggle(null);e.preventDefault();};return/*#__PURE__*/_jsxs(\"form\",{className:\"ui absolute center container\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Label\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"any unicode characters\",name:\"text\",value:values.text,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormScale,{scales:scales.x,label:\"X Scale\",name:\"xScale\",value:values.xScale,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormScale,{scales:scales.y,label:\"Y Scale\",name:\"yScale\",value:values.yScale,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Time Start\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"#s, dates, logical operators\",name:\"start\",value:values.start,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Time End\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"#s, dates, logical operators\",name:\"end\",value:values.end,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Color\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",placeholder:\"blue, #4DA6FF, etc.\",value:values.color,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Opacity\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0 (transparent) - 1 (opaque)\",name:\"opacity\",value:values.opacity,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleClose,children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:handleSubmit,children:\"Submit\"})]})]});};export default NewZoneForm;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/chronovis/src/components/NewZoneForm.js"],"names":["React","useState","InputFormScale","InputFormText","InputFormNum","NewZoneForm","zones","updateSrc","setToggle","scales","activeScale","text","xScale","yScale","start","end","yValue2","yStart","yEnd","color","opacity","values","setValues","label","setLabel","setStart","setEnd","select","setSelect","scalesList","Object","keys","map","key","i","setYStart","setYEnd","setColor","setOpacity","handleChange","e","preventDefault","target","value","name","handleSubmit","newZones","lastKey","pop","parseInt","parseFloat","handleClose","x","y"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction NewZoneForm({zones, updateSrc, setToggle, scales, activeScale}) {\n  const [values, setValues] = useState({\n    text: '',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    start:'',\n    end:'',\n    yValue2:'',\n    yStart:'',\n    yEnd:'',\n    color:'',\n    opacity:''\n  });\n\n  const [label, setLabel] = useState(\"\");\n  const [start, setStart] = useState(\"\");\n  const [end, setEnd] = useState(\"\");\n  const [select, setSelect] = useState(activeScale);\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  const scalesList = Object.keys(scales).map((key, i) => {\n    return <option value={key} key={i}>{key}</option>\n  });\n  //optional parameters\n  const [yStart, setYStart] = useState(\"\");\n  const [yEnd, setYEnd] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [opacity, setOpacity] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    const newZones = {...zones};\n    const lastKey = Object.keys(newZones).pop() ? parseInt(Object.keys(newZones).pop()) : -1;\n\n    //generate new zone\n    newZones[`${lastKey+1}`] = {\n      \"text\": values.text,\n      \"start\": parseFloat(values.start), //cases where start > end?\n      \"end\": parseFloat(values.end),\n      \"scale\": [values.xScale, values.yScale],\n      ...(values.yStart && {\"yStart\": values.yStart}),\n      ...(values.yEnd && {\"yEnd\": values.yEnd}),\n      ...(values.color && {\"color\": values.color}),\n      ...(values.opacity && {\"opacity\": values.opacity})\n    }\n\n    updateSrc(newZones,\"zones\");\n    e.preventDefault();\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n      <label>\n        Label<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"any unicode characters\"\n          name=\"text\"\n          value={values.text}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xScale\"\n        value={values.xScale}\n        onChange={handleChange}\n      /><br/>\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"yScale\"\n        value={values.yScale}\n        onChange={handleChange}\n      /><br/>\n      <label>\n        Time Start<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s, dates, logical operators\"\n          name=\"start\"\n          value={values.start}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        Time End<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s, dates, logical operators\"\n          name=\"end\"\n          value={values.end}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      {/*<label>\n        Y Start\n        <input\n          type=\"text\"\n          name=\"yStart\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yStart}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Y End\n        <input\n          type=\"text\"\n          name=\"yEnd\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yEnd}\n          onChange={handleChange}\n        />\n      </label><br/>*/}\n      <label>\n        Color\n        <input\n          type=\"text\"\n          name=\"color\"\n          placeholder=\"blue, #4DA6FF, etc.\"\n          value={values.color}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Opacity\n        <input\n          type=\"number\"\n          placeholder=\"0 (transparent) - 1 (opaque)\"\n          name=\"opacity\"\n          value={values.opacity}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewZoneForm;\n"]},"metadata":{},"sourceType":"module"}