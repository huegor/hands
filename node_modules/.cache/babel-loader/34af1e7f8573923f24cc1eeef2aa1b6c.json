{"ast":null,"code":"import _objectSpread from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import InputFormScale from'./InputFormScale';/*\n   UI and function for adding new points.\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewInstantForm=/*#__PURE__*/function(_React$Component){_inherits(NewInstantForm,_React$Component);var _super=_createSuper(NewInstantForm);//controlled component, meaning React is the \"single source of truth\"\nfunction NewInstantForm(props){var _this;_classCallCheck(this,NewInstantForm);_this=_super.call(this,props);_this.state={label:'',xValue:props.target.x,//\"target\" is scaled mouse click coordinates. Graphics.js addInstant\nyValue:props.target.y,xScale:props.activeScale[0],yScale:props.activeScale[1],color:'',opacity:'',radius:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewInstantForm,[{key:\"handleChange\",value:function handleChange(e){var value=e.target.value;var name=e.target.name;this.setState(_defineProperty({},name,value));}},{key:\"handleClose\",value:function handleClose(e){this.props.setToggle(null);e.preventDefault();}},{key:\"handleSubmit\",value:function handleSubmit(e){//consider turning into useCallback\ne.preventDefault();var newData=_objectSpread({},this.props.data);var lastKey=Object.keys(newData).pop()?parseInt(Object.keys(newData).pop()):-1;var lastInstant=newData[lastKey];//last instant of data\nvar tempx=parseFloat(this.state.xValue);//if y pos specified, convert to float. otherwise, return null\nvar tempy=this.state.yValue?parseFloat(this.state.yValue):null;//error handling. btw, isNan(null) === false\nif(isNaN(tempx)&&isNaN(tempy)){alert(\"Make sure Time and y Position are numbers!\");}else if(isNaN(tempx)){alert(\"Make sure Time is a number!\");}else if(isNaN(tempy)){alert(\"Make sure y Position is a number!\");}else{//generate instant\nnewData[\"\".concat(lastKey+1)]=_objectSpread(_objectSpread(_objectSpread({\"x\":tempx,\"y\":this.state.yValue?tempy:lastInstant?lastInstant.y:0,// if y not specified, take value of last instant\n\"scale\":[this.state.xScale,this.state.yScale],\"target\":null,\"text\":this.state.label},this.state.color&&{\"color\":this.state.color}),this.state.radius&&{\"radius\":this.state.radius}),this.state.opacity&&{\"opacity\":this.state.opacity});};//order of parameters is important\nthis.props.updateSrc(newData);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"form\",{className:\"ui absolute center container\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Label\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"label\",placeholder:\"any unicode characters\",value:this.state.label,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormScale,{scales:this.props.scales.x,label:\"X Scale\",name:\"xScale\",value:this.state.xScale,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Time\",/*#__PURE__*/_jsx(\"span\",{className:\"redText\",children:\"* \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"xValue\",placeholder:\"numbers only\",value:this.state.xValue,onChange:this.handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputFormScale,{scales:this.props.scales.y,label:\"Y Scale\",name:\"yScale\",value:this.state.yScale,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"y Position\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"yValue\",placeholder:\"#s only (default 0)\",value:this.state.yValue,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Color\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",placeholder:\"blue, #4DA6FF, etc.\",value:this.state.color,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Opacity\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"opacity\",placeholder:\"1\",value:this.state.opacity,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Radius\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"radius\",placeholder:\"5\",value:this.state.radius,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:this.handleClose,children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"buttonSecondary\",onClick:this.handleSubmit,children:\"Submit\"})]})]});}}]);return NewInstantForm;}(React.Component);;export default NewInstantForm;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/chronovis/src/components/NewInstantForm.js"],"names":["React","InputFormScale","NewInstantForm","props","state","label","xValue","target","x","yValue","y","xScale","activeScale","yScale","color","opacity","radius","handleChange","bind","handleClose","handleSubmit","e","value","name","setState","setToggle","preventDefault","newData","data","lastKey","Object","keys","pop","parseInt","lastInstant","tempx","parseFloat","tempy","isNaN","alert","updateSrc","scales","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport InputFormScale from './InputFormScale';\n/*\n   UI and function for adding new points.\n*/\n\nclass NewInstantForm extends React.Component {\n  //controlled component, meaning React is the \"single source of truth\"\n  constructor(props) {\n    super(props);\n    this.state = {\n      label: '',\n      xValue: props.target.x, //\"target\" is scaled mouse click coordinates. Graphics.js addInstant\n      yValue: props.target.y,\n      xScale: props.activeScale[0],\n      yScale: props.activeScale[1],\n      color: '',\n      opacity: '',\n      radius: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n  }\n\n  handleChange(e) {\n    const value = e.target.value;\n    const name = e.target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleClose(e) {\n    this.props.setToggle(null);\n    e.preventDefault();\n  }\n\n  handleSubmit(e) { //consider turning into useCallback\n    e.preventDefault();\n    const newData = {...this.props.data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempx = parseFloat(this.state.xValue);\n    //if y pos specified, convert to float. otherwise, return null\n    const tempy = this.state.yValue ? parseFloat(this.state.yValue) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempx) && isNaN(tempy)) {\n      alert(\"Make sure Time and y Position are numbers!\");\n    } else if (isNaN(tempx)) {\n      alert(\"Make sure Time is a number!\");\n    } else if (isNaN(tempy)) {\n      alert(\"Make sure y Position is a number!\");\n    } else {\n      //generate instant\n      newData[`${lastKey+1}`] = {\n        \"x\":tempx,\n        \"y\": this.state.yValue ? tempy : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [this.state.xScale,this.state.yScale],\n        \"target\": null,\n        \"text\": this.state.label,\n        ...(this.state.color && {\"color\": this.state.color}), //if color is specified, create color entry in data\n        ...(this.state.radius && {\"radius\": this.state.radius}),\n        ...(this.state.opacity && {\"opacity\": this.state.opacity})\n      };\n    };\n\n    //order of parameters is important\n    this.props.updateSrc(newData);\n\n  }\n\n  render() {\n\n    return (\n      <form className=\"ui absolute center container\">\n        <label>\n          Label\n          <input type=\"text\"\n            name=\"label\"\n            placeholder=\"any unicode characters\"\n            value={this.state.label}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <InputFormScale\n          scales={this.props.scales.x}\n          label=\"X Scale\"\n          name=\"xScale\"\n          value={this.state.xScale}\n          onChange={this.handleChange}\n        /><br/>\n        <label>\n          Time<span className=\"redText\">* </span>\n          <input\n            type=\"number\"\n            name=\"xValue\"\n            placeholder=\"numbers only\"\n            value={this.state.xValue}\n            onChange={this.handleChange}\n            required\n          />\n        </label><br/>\n        <InputFormScale\n          scales={this.props.scales.y}\n          label=\"Y Scale\"\n          name=\"yScale\"\n          value={this.state.yScale}\n          onChange={this.handleChange}\n        /><br/>\n        <label>\n          y Position\n          <input\n            type=\"number\"\n            name=\"yValue\"\n            placeholder=\"#s only (default 0)\"\n            value={this.state.yValue}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Color\n          <input\n            type=\"text\"\n            name=\"color\"\n            placeholder=\"blue, #4DA6FF, etc.\"\n            value={this.state.color}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Opacity\n          <input\n            type=\"number\"\n            name=\"opacity\"\n            placeholder=\"1\"\n            value={this.state.opacity}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Radius\n          <input\n            type=\"number\"\n            name=\"radius\"\n            placeholder=\"5\"\n            value={this.state.radius}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <br/>\n        <div className=\"flexCenter\">\n          <button className=\"buttonSecondary\" onClick={this.handleClose}>Cancel</button> &nbsp;\n          <button className=\"buttonSecondary\" onClick={this.handleSubmit}>Submit</button>\n        </div>\n      </form>\n    );\n  }\n};\n\nexport default NewInstantForm;\n"]},"metadata":{},"sourceType":"module"}