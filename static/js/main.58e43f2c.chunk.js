(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,a){},158:function(e){e.exports=JSON.parse("{}")},176:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(39),l=a.n(r),s=a(5),i=a(2),o=a(6),u=a(3),d=(a(155),a(4)),b=a(40),j=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new b.a((function(e){e.forEach((function(e){r(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),c};var x=function(e){var t=[];return Object.entries(e).forEach((function(a){a[0];var n=a[1];n.target&&n.target.forEach((function(c){var r=[c,e[c]];r[1]&&t.push({source:a,target:r,text:n.intervalText,color:n.intervalColor?n.intervalColor:n.color?n.color:null,width:n.intervalWidth,opacity:n.intervalOpacity?n.intervalOpacity:null,dashed:n.intervalDashed})}))})),t},h=a(0);var m=function(e){var t=e.data,a=e.setData,c=e.updateSrc,r=e.activeLayer,l=e.zones,b=(e.setZones,e.radius),m=(e.info,e.setInfo),p=e.setInflectTarget,O=e.showLabel,y=e.toggle,f=e.setToggle,g=e.scales,v=(e.setScales,e.syntacticOrder),S=e.setSyntacticOrder,C=e.activeScale,N=Object.entries(t),T=Object.entries(l),k=t.length?isNaN(t[0].x):null,w=Object(n.useRef)(),M=Object(n.useRef)(),D=j(M),V=Object(n.useState)(),P=Object(i.a)(V,2),_=P[0],E=P[1],F={};Object(n.useEffect)((function(){if(D){var e,t=[],a=Object(o.a)(N);try{for(a.s();!(e=a.n()).done;){e.value;t.push(N.y)}}catch(n){a.e(n)}finally{a.f()}Object.entries(g.y).forEach((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1];F[n]={scale:Object(d.h)().domain([0,D.height]).range([c.min,c.max]),drag:Object(d.h)().domain([-D.height,D.height]).range([-(c.max-c.min),c.max-c.min]),ticks:Object(s.a)(new Set(t))}}))}}),[D,g,_,t]);var I=x(t);return Object(n.useEffect)((function(){var e=Object(d.j)(w.current);if(D){e.selectAll(".remove").remove(),N.length?T.length||e.selectAll(".zones").remove():(e.selectAll(".instant").remove(),e.selectAll(".interval").remove(),e.selectAll(".label").remove(),e.selectAll(".intervalLabel").remove());var n=Object(d.i)(["before","now","after"],[-1,0,1]).unknown(0),r=Object(d.g)(N.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),o=Object(d.f)(N.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),j=N.map((function(e){return Object(i.a)(e,2)[1].y})),x=g.y[C[1]].min,h=g.y[C[1]].max,M=o-r,V=h-x,P=function(e){return Object(d.h)().domain([0,D.width]).range([e.min,e.max])},F=Object.fromEntries(Object.entries(g.x).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return[a,{scale:Object(d.h)().domain([n.min,n.max]).range([0,D.width]),noBeginning:n.min-.1*(n.max-n.min),noEnd:n.max+.1*(n.max-n.min),hasSegments:!!n.segments.length,hideLabel:n.hideLabel,yPos:1-n.yPos,label:"".concat(a," (").concat(n.units,")"),tickValues:n.tickValues?n.tickValues:null,scaleInverse:Object(d.h)().domain([0,D.width]).range([n.min,n.max])}]})));_&&Object.entries(F).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=_.rescaleX(n.scale);c.domain()[0],c.domain()[1];F[a].scale=c}));var A=Object(d.h)().domain([x,h]).range([D.height,0]),L=Object(d.h)().domain([0,D.height]).range([x,h]),Y=Object(d.h)().domain([D.height,-D.height]).range([-V,V]);Object.entries(l).length&&(e.selectAll(".zones").data(T).join("rect").attr("class","zones pointer").attr("x",(function(e){var t=Object(i.a)(e,2)[1];return F[t.scale[0]].scale(t.start)})).attr("y",(function(e){Object(i.a)(e,2)[1];return A(h)})).attr("width",(function(e){var t=Object(i.a)(e,2)[1];return F[t.scale[0]].scale(t.end)-F[t.scale[0]].scale(t.start)})).attr("height",(function(e){Object(i.a)(e,2)[1];return A(x)})).attr("opacity",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.opacity?a.opacity:.5})).attr("fill",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.color?a.color:"#999"})).attr("stroke","black").attr("stroke-width",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.importance?2*a.importance:0})).on("click",(function(e,t){"certainty"===y||"importance"===y?p(t):"pan"===y&&"addInstant"===y||(m(null),m({position:[e.x,e.y],target:t,type:"zone"})),e.stopPropagation()})),e.selectAll(".zoneLabel").data(T).join("text").attr("class","zoneLabel").text((function(e){var t=Object(i.a)(e,2);t[0];return t[1].text})).attr("opacity",.5).attr("x",(function(e){var t=Object(i.a)(e,2)[1];return F[t.scale[0]].scale(t.start+.02*M)})).attr("y",A(h-.05*V)).attr("text-anchor","bottom")),function(){var e=[];return Object.keys(g.x).forEach((function(t,a){var n=g.x[t];n.segments.length&&n.segments.map((function(a){var c=a.min?a.min:n.min,r=a.max?a.max:n.max;e.push({scale:t,yPos:1-n.yPos,proportion:(r-c)/(n.max-n.min),segment:Object(d.h)().domain([c,r]).range([F[t].scale(c),F[t].scale(r)])})}))})),e}().forEach((function(t){var a=Object(d.a)(t.segment).ticks(null,"f").tickSize(-D.height);e.append("g").attr("class","remove").style("transform","translateY(".concat(D.height*t.yPos,"px)")).call(a).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",(function(e,a){return t.proportion<.25&&a%3||t.proportion<.33&&a%2?0:.5}))}))})),Object.entries(F).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(d.a)(c.scale).tickValues(c.scale.ticks().concat(g.x[n].min,g.x[n].max)).tickFormat(Object(d.d)("")).tickSize(-D.height);c.hasSegments||e.append("g").attr("class","remove").style("transform","translateY(".concat(D.height*c.yPos,"px)")).call(r).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),c.hideLabel||e.append("text").text(c.label).attr("class","axisLabel smallTxt remove").attr("x",D.width/2).attr("y",D.height*(c.yPos+.07)).attr("text-anchor","middle").attr("opacity",.5)}));var q=Object(d.b)(A).tickValues([].concat(Object(s.a)(new Set(j)),[g.y[C[1]].min,g.y[C[1]].max])).tickFormat(Object(d.d)(""));e.append("g").attr("class","remove").call(q).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.5)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),g.y[C[1]].hideLabels||e.append("text").text("".concat(C[1]," (").concat(g.y[C[1]].units,")")).attr("class","axisLabel smallTxt remove").attr("text-anchor","middle").attr("transform","translate(-30,".concat(D.height/2,")rotate(-90)")).attr("opacity",.5);var U=Object(d.c)().on("drag",(function(e){var n,c=(n=F[e.subject[1].scale[0]].scale,Object(d.h)().domain([-D.width,D.width]).range([-(n.domain()[1]-n.domain()[0]),n.domain()[1]-n.domain()[0]]))(e.dx),r=Y(e.dy),l=Object(u.a)({},t);l[e.subject[0]].x+=c,l[e.subject[0]].y+=r,a(l)})).on("end",(function(e){console.log("end")}));if(N.length){var z=Object(d.e)().source((function(e){return e.source[1]})).target((function(e){return e.target[1]})).x((function(e){var t=F[e.scale[0]];return isNaN(e.x)?"noEnd"===e.x?t.scale(t.noEnd):"noBeginning"===e.x?t.scale(t.noBeginning):void 0:t.scale(e.x)})).y((function(e){return A(e.y)}));e.selectAll(".interval").data(I).join("path").raise().attr("class","interval pointer").attr("d",z).attr("fill","none").attr("stroke",(function(e){return e.color?e.color:"black"})).attr("stroke-width",(function(e){return e.width?e.width:b})).attr("stroke-opacity",(function(e){return e.opacity?e.opacity:1})).attr("stroke-dasharray",(function(e){return e.dashed?e.dashed:null})).on("click",(function(e,t){if("connection"===y){var a=Object(s.a)(v);0===a[2]?(a[1]={x:P(g.x[C[0]])(e.layerX),y:L(e.layerY),scale:C},a[2]=1):(a[0]={x:P(g.x[C[0]])(e.layerX),y:L(e.layerY),scale:C},a[2]=0),S(a)}else"certainty"===y||"importance"===y?p(t):(m(null),m({position:[e.x,e.y],target:t,type:"interval"}));e.stopPropagation()})),e.selectAll(".instant").data(N).join("circle").raise().attr("class","instant pointer").attr("r",(function(e){var t=Object(i.a)(e,2)[1];return t.radius?t.radius:b})).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("opacity",(function(e){var t=Object(i.a)(e,2)[1];return t.opacity?t.opacity:1})).attr("cx",(function(e){var t=Object(i.a)(e,2)[1],a=F[t.scale[0]];return isNaN(t.x)?"noBeginning"===t.x?a.scale(a.noBeginning):"noEnd"===t.x?a.scale(a.noEnd):void 0:a.scale(t.x)})).attr("cy",(function(e){var t=Object(i.a)(e,2)[1];return A(t.y)})).call(U).on("click",(function(e,n){switch(y){case"cancelled":var r=Object(u.a)({},t);r[n[0]].cancelled=!0,c(r);break;case"connection":var l=Object(s.a)(v);0===l[2]?(l[1]=n,l[2]=1):(l[0]=n,l[2]=0),S(l);break;case"foreshadowing":if(n.target)console.log("forbidden");else{var i=Object(s.a)(t);i.find((function(e){return e.id===n.id})).foreshadowing=!0,a(i)}break;case"certainty":case"importance":p(n);break;default:m(null),m({position:[e.x,e.y],target:n})}e.stopPropagation()}));var H={draw:function(e,t){var a=Math.sqrt(t)/2;e.moveTo(a,0),e.lineTo(2*a,a),e.lineTo(a,2*a),e.lineTo(0,a),e.lineTo(-a,2*a),e.lineTo(2*-a,a),e.lineTo(-a,0),e.lineTo(2*-a,-a),e.lineTo(-a,2*-a),e.lineTo(0,-a),e.lineTo(a,2*-a),e.lineTo(2*a,-a),e.closePath()}};e.selectAll(".cancelled").data(N.filter((function(e){return Object(i.a)(e,2)[1].cancelled}))).join("path").raise().attr("class","cancelled pointer").attr("d",Object(d.k)(H,b*b*5)).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("transform",(function(e){var t=Object(i.a)(e,2)[1];return"translate(".concat(F[t.scale[0]].scale(t.x),", ").concat(A(t.y),")")})).on("click",(function(e,a){if("cancelled"===y){var n=Object(u.a)({},t);n[a[0]].cancelled=!1,c(n)}else m({position:[e.x,e.y],target:a});e.stopPropagation()})),e.selectAll(".label").data(N.filter((function(e){var t=Object(i.a)(e,2)[1];return!isNaN(t.x)}))).join("text").attr("class","label").text((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return O?a.text:a.id})).attr("x",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return F[a.scale[0]].scale(a.x)})).attr("y",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return A(a.y-.05*V)})).attr("text-anchor","middle"),e.selectAll(".intervalLabel").data(I).join("text").attr("class","intervalLabel").text((function(e){return e.text})).attr("x",(function(e){var t=e.source[1],a=e.target[1],n=F[t.scale[0]],c=F[a.scale[0]];return isNaN(t.x)||isNaN(a.x)?isNaN(t.x)?(("noBeginning"===t.x?n.scale(n.noBeginning):n.scale(n.noEnd))+c.scale(a.x))/2:isNaN(a.x)?(("noBeginning"===a.x?c.scale(c.noBeginning):c.scale(c.noEnd))+n.scale(t.x))/2:void 0:(n.scale(t.x)+c.scale(a.x))/2})).attr("y",(function(e){return A(Math.max(e.source[1].y,e.target[1].y)+.05*V)})).attr("text-anchor","middle")}var R=Object(d.l)().scaleExtent([1,5]).translateExtent([[-50,0],[D.width+50,D.height]]).on("zoom",(function(e){var t=e.transform;E(t)}));e.on("click",(function(e){if("addInstant"===y){var t=F[C[0]].scale.domain()[1]-F[C[0]].scale.domain()[0],a=F[C[0]].scale.invert(e.layerX),n=A.invert(e.layerY);p({x:B(a,t),y:Math.round(n)}),f("NewInstantForm")}m(null)})),e.call(R)}function B(e,t){var a=Math.log10(t)<1?-Math.floor(Math.log10(t)-1):0;return Math.round(e*Math.pow(10,a))/Math.pow(10,a)}}),[t,a,l,T,g,y,r,N,D,k,_,m,b,O,v]),Object(h.jsx)("div",{ref:M,className:"svgWrapper",children:Object(h.jsx)("svg",{id:"graphic",ref:w})})},p=a(7),O=a(41),y=a(42),f=a(12),g=a(43),v=a(51),S=function(e){var t=e.scales,a=e.label,n=e.name,c=e.value,r=e.onChange,l=Object.keys(t).map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}));return Object(h.jsxs)("label",{className:"textSecondary",children:[a,Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("select",{name:n,value:c,onChange:r,children:l})]})},C=function(e){var t=e.label,a=e.name,n=e.placeholder,c=e.value,r=e.onChange,l=e.required;return Object(h.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:n||"any unicode characters",name:a,value:c,onChange:r,required:l})]})},N=function(e){var t=e.label,a=e.name,n=e.value,c=e.placeholder,r=e.onChange,l=e.required;return Object(h.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"number",placeholder:c||"Integer or decimal",name:a,value:n,onChange:r,required:l})]})},T=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={label:"",xValue:e.target?e.target.x:"",yValue:e.target?e.target.y:"",xScale:e.activeScale[0],yScale:e.activeScale[1],color:"",opacity:"",radius:""},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleClose=n.handleClose.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(y.a)(a,[{key:"handleChange",value:function(e){console.log(e);var t=e.target.value,a=e.target.name;this.setState(Object(p.a)({},a,t))}},{key:"handleClose",value:function(e){this.props.setToggle(null),e.preventDefault()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Object(u.a)({},this.props.data),a=Object.keys(t).pop()?parseInt(Object.keys(t).pop()):-1,n=t[a],c=parseFloat(this.state.xValue),r=this.state.yValue?parseFloat(this.state.yValue):null;isNaN(c)&&isNaN(r)?alert("Make sure Time and y Position are numbers!"):isNaN(c)?alert("Make sure Time is a number!"):isNaN(r)?alert("Make sure y Position is a number!"):t["".concat(a+1)]=Object(u.a)(Object(u.a)(Object(u.a)({x:c,y:this.state.yValue?r:n?n.y:0,scale:[this.state.xScale,this.state.yScale],target:null,text:this.state.label},this.state.color&&{color:this.state.color}),this.state.radius&&{radius:this.state.radius}),this.state.opacity&&{opacity:this.state.opacity}),this.props.updateSrc(t)}},{key:"render",value:function(){return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)(C,{label:"Label",name:"label",onChange:this.handleChange,value:this.state.label}),Object(h.jsx)(S,{scales:this.props.scales.x,label:"X Scale",name:"xScale",value:this.state.xScale,onChange:this.handleChange}),Object(h.jsx)(N,{label:"Time",name:"xValue",placeholder:"numbers only for now",value:this.state.xValue,onChange:this.handleChange,required:!0}),Object(h.jsx)(S,{scales:this.props.scales.y,label:"Y Scale",name:"yScale",value:this.state.yScale,onChange:this.handleChange}),Object(h.jsx)(N,{label:"Y Value",name:"yValue",placeholder:"numbers only for now",value:this.state.yValue,onChange:this.handleChange,required:!0}),Object(h.jsx)(C,{label:"Color",name:"color",placeholder:"blue, #4DA6FF, etc.",value:this.state.color,onChange:this.handleChange}),Object(h.jsx)(N,{label:"Certainty",name:"opacity",placeholder:"0 to 1 (default 1)",value:this.state.opacity,onChange:this.handleChange}),Object(h.jsx)(N,{label:"Radius",name:"radius",placeholder:"(default 5)",value:this.state.radius,onChange:this.handleChange}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:this.handleSubmit,children:"Submit"}),"\xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:this.handleClose,children:"Cancel"})]})]})}}]),a}(c.a.Component);var k=function(e){var t=e.data,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=(e.history,e.setHistory,Object(n.useState)({text:"",xValue1:"",yValue1:"",xValue2:"",yValue2:"",xScale:l[0],yScale:l[1],color:"",opacity:"",width:""})),o=Object(i.a)(s,2),d=o[0],b=o[1],j=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},d),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)(C,{label:"Label",name:"text",onChange:j,value:d.text}),Object(h.jsx)(S,{scales:r.x,label:"X Scale",name:"xSelect",value:d.xSelect,onChange:j}),Object(h.jsx)(S,{scales:r.y,label:"Y Scale",name:"ySelect",value:d.ySelect,onChange:j}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"textSecondary bold",children:"Start:"}),Object(h.jsx)(N,{label:"Time",name:"xValue1",placeholder:"numbers only for now",value:d.xValue1,onChange:j,required:!0}),Object(h.jsx)(N,{label:"Y Value",name:"yValue1",placeholder:"numbers only for now",value:d.yValue1,onChange:j,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"textSecondary bold",children:"End:"}),Object(h.jsx)(N,{label:"Time",name:"xValue2",placeholder:"numbers only for now",value:d.xValue2,onChange:j,required:!0}),Object(h.jsx)(N,{label:"Y Value",placeholder:"numbers only for now",name:"yValue2",value:d.yValue2,onChange:j,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"textSecondary bold",children:"Properties:"}),Object(h.jsx)(C,{label:"Color",name:"color",placeholder:"blue, #4DA6FF, etc.",value:d.color,onChange:j}),Object(h.jsx)(N,{label:"Certainty",name:"opacity",placeholder:"0 to 1 (default 1)",value:d.opacity,onChange:j}),Object(h.jsx)(N,{label:"Width",name:"width",placeholder:"(default 2.5)",value:d.width,onChange:j}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1,r=n[c],l=parseFloat(d.xValue1),s=d.yValue1?parseFloat(d.yValue1):null,i=parseFloat(d.xValue2),o=d.yValue2?parseFloat(d.yValue2):null;isNaN(l)?alert("Enter a value for Start Time!"):isNaN(s)?alert("Enter a value for Start Y Value!"):isNaN(i)?alert("Enter a value for End Time!"):isNaN(o)?alert("Enter a value for End Y Value!"):(n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:"",x:l,y:d.yValue1?s:r?r.y:0,scale:[d.xScale,d.yScale],target:["".concat(c+2)]},d.text&&{intervalText:d.text}),d.color&&{intervalColor:d.color,color:d.color}),d.width&&{intervalWidth:d.width}),d.opacity&&{intervalOpacity:d.opacity,opacity:d.opacity}),n["".concat(c+2)]=Object(u.a)(Object(u.a)({text:"",x:i,y:d.yValue2?o:r?r.y:0,scale:[d.xScale,d.yScale],target:null},d.color&&{color:d.color}),d.opacity&&{opacity:d.opacity}),a(n))},children:"Submit"}),"\xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})]})]})};var w=function(e){var t=e.zones,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=Object(n.useState)({text:"",xScale:l[0],yScale:l[1],start:"",end:"",yValue2:"",yStart:"",yEnd:"",color:"",opacity:""}),o=Object(i.a)(s,2),d=o[0],b=o[1],j=Object(n.useState)(""),x=Object(i.a)(j,2),m=(x[0],x[1],Object(n.useState)("")),O=Object(i.a)(m,2),y=(O[0],O[1],Object(n.useState)("")),f=Object(i.a)(y,2),g=(f[0],f[1],Object(n.useState)(l)),v=Object(i.a)(g,2),T=(v[0],v[1],Object.keys(r).map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)})),Object(n.useState)("")),k=Object(i.a)(T,2),w=(k[0],k[1],Object(n.useState)("")),M=Object(i.a)(w,2),D=(M[0],M[1],Object(n.useState)("")),V=Object(i.a)(D,2),P=(V[0],V[1],Object(n.useState)("")),_=Object(i.a)(P,2),E=(_[0],_[1],function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},d),{},Object(p.a)({},n,a)))});return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)(C,{label:"Label",name:"text",onChange:E,value:d.text,required:!0}),Object(h.jsx)(S,{scales:r.x,label:"X Scale",name:"xScale",value:d.xScale,onChange:E}),Object(h.jsx)(S,{scales:r.y,label:"Y Scale",name:"yScale",value:d.yScale,onChange:E}),Object(h.jsx)(N,{label:"Time Start",placeholder:"numbers only for now",name:"start",value:d.start,onChange:E,required:!0}),Object(h.jsx)(N,{label:"Time End",placeholder:"numbers only for now",name:"end",value:d.end,onChange:E,required:!0}),Object(h.jsx)(C,{label:"Color",name:"color",placeholder:"blue, #4DA6FF, etc.",value:d.color,onChange:E}),Object(h.jsx)(N,{label:"Certainty",name:"opacity",placeholder:"0 to 1 (default 1)",value:d.opacity,onChange:E}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1;n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:d.text,start:parseFloat(d.start),end:parseFloat(d.end),scale:[d.xScale,d.yScale]},d.yStart&&{yStart:d.yStart}),d.yEnd&&{yEnd:d.yEnd}),d.color&&{color:d.color}),d.opacity&&{opacity:d.opacity}),a(n,"zones"),e.preventDefault()},children:"Submit"}),"\xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})]})]})};var M=function(e){var t=e.src,a=e.updateSrc,c=e.setToggle,r=e.setActiveScale,l=Object(n.useState)({xName:"",xMin:"",xMax:"",xUnits:"",xYPos:"",xTickValues:"",xHideUnits:!1,xSegmentsNum:0,yName:"",yMin:"",yMax:"",yUnits:"",yPercent:"",yHideUnits:!1}),s=Object(i.a)(l,2),o=s[0],d=s[1],b=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;d(Object(u.a)(Object(u.a)({},o),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)("span",{className:"textSecondary",children:Object(h.jsx)("b",{children:"x scale"})}),Object(h.jsx)("br",{}),Object(h.jsx)(C,{label:"Name",name:"xName",value:o.xName,onChange:b,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:o.xUnits,onChange:b,required:!0}),Object(h.jsx)(N,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:o.xMin,onChange:b,required:!0}),Object(h.jsx)(N,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:o.xMax,onChange:b,required:!0}),Object(h.jsx)(N,{label:"Screen Position",name:"xYPos",placeholder:"0 (bottom) to 1 (top)",value:o.xYPos,onChange:b}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"textSecondary",children:Object(h.jsx)("b",{children:"y scale"})}),Object(h.jsx)("br",{}),Object(h.jsx)(C,{label:"Name",name:"yName",value:o.yName,onChange:b,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"yUnits",placeholder:"ie: Years",value:o.yUnits,onChange:b,required:!0}),Object(h.jsx)(N,{label:"Minimum Value",name:"yMin",placeholder:"#s for now",value:o.yMin,onChange:b,required:!0}),Object(h.jsx)(N,{label:"Maximum Value",name:"yMax",placeholder:"#s for now",value:o.yMax,onChange:b,required:!0}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t.scales),l=parseFloat(o.xMin),s=parseFloat(o.xMax),i=parseFloat(o.xYPos),d=parseFloat(o.yMin),b=parseFloat(o.yMax);isNaN(l)||isNaN(s)||isNaN(d)||isNaN(b)?alert("Make sure all required fields are filled in!"):l>=s?alert("Minimum x Value must be less than or equal to Maximum x Value!"):d>=b?alert("Minimum y Value must be less than or equal to Maximum y Value!"):i>1?alert("Vertical Position must be between 0 (top) and 1 (bottom)!"):(n.x[o.xName]={min:l,max:s,units:o.xUnits,yPos:i||0,segments:[]},n.y[o.yName]=Object(u.a)({min:d,max:b,units:o.yUnits},o.yPercent&&{percent:o.yPercent}),a(n,"scales"),r([o.xName,o.yName]),c(null))},children:"Submit"}),"\xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})]})]})};var D=function(e){var t=e.scales,a=e.updateSrc,c=e.setToggle,r=e.activeScale,l=e.setActiveScale,o=t.x[r[0]],d=t.y[r[1]],b=Object(n.useState)({xSelect:r[0],xMin:o.min,xMax:o.max,xUnits:o.units,xYPos:o.yPos,xTickValues:o.tickValues,xHideUnits:o.hideUnits,xSegmentsNum:o.segments.length,ySelect:r[1],yMin:d.min,yMax:d.max,yUnits:d.units,yPercent:d.percent,yHideUnits:d.hideUnits}),j=Object(i.a)(b,2),x=j[0],m=j[1],O=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;m(Object(u.a)(Object(u.a)({},x),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)(S,{scales:t.x,label:"X Scale",name:"xSelect",value:r[0],onChange:function(e,t){e.preventDefault();var a=Object(s.a)(r),n=e.target,c=n.value;"xSelect"===n.name?a[0]=c:a[1]=c,l(a)}}),Object(h.jsx)(N,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:x.xMin,onChange:O,required:!0}),Object(h.jsx)(N,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:x.xMax,onChange:O,required:!0}),Object(h.jsx)(N,{label:"Screen Position",name:"xYPos",placeholder:"0 (bottom) to 1 (top)",value:x.xYPos,onChange:O}),Object(h.jsx)(C,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:x.xUnits,onChange:O,required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)(S,{scales:t.y,label:"Y Scale",name:"ySelect",value:x.ySelect,onChange:O}),Object(h.jsx)(N,{label:"Minimum Value",name:"yMin",placeholder:"#s for now",value:x.yMin,onChange:O,required:!0}),Object(h.jsx)(N,{label:"Maximum Value",name:"yMax",placeholder:"#s for now",value:x.yMax,onChange:O,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"yUnits",placeholder:"ie: Years",value:x.yUnits,onChange:O,required:!0}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t),r=parseFloat(x.xMin),i=parseFloat(x.xMax),o=parseFloat(x.xYPos),d=parseFloat(x.yMin),b=parseFloat(x.yMax);isNaN(r)||isNaN(i)||isNaN(o)||isNaN(d)||isNaN(b)?alert("Make sure all numerical values are numbers!"):r>=i?alert("Minimum x Value must be less than or equal to Maximum x Value!"):d>=b?alert("Minimum y Value must be less than or equal to Maximum y Value!"):o>1?alert("Vertical Position must be between 0 (top) and 1 (bottom)!"):(n.x[x.xSelect]={min:r,max:i,units:x.xUnits,yPos:o,segments:Object(s.a)(n.x[x.xSelect].segments)},n.y[x.ySelect]=Object(u.a)({min:d,max:b,units:x.yUnits},x.yPercent&&{percent:x.yPercent}),a(n,"scales"),l([x.xSelect,x.ySelect]),c(null))},children:"Submit"})]})]})};var V=function(e,t,a){var n=Object(u.a)({},t);Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(t){t.target&&t.target.includes(e[0])&&(t.target.length>1?t.target=t.target.filter((function(t){return t!==e[0]})):t.target=null)})),delete n[e[0]],a(n)};var P=function(e,t,a){var n=Object(u.a)({},t),c=e.source[0],r=e.target[0];Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(e){e.target&&(e.target.includes(c)||e.target.includes(r))&&(e.target.length>1?e.target=e.target.filter((function(e){return e!==c&&e!==r})):e.target=null)})),delete n[c],delete n[r],a(n)};a.p;var _=function(e){return e.editMode?Object(h.jsx)("input",{name:e.name,type:e.inputType,placeholder:e.placeholder,value:e.value,onChange:function(t){return e.handleChange(t)},required:e.required}):e.value?Object(h.jsx)(h.Fragment,{children:e.value}):Object(h.jsx)("span",{className:"textSecondary",children:e.nullValue})};var E=function(e){var t=e.info,a=e.setInfo,c=(e.history,e.setHistory,e.data),r=e.zones,l=e.updateSrc,s=e.radius,o=null,d=Array.isArray(t.target)?t.target[1]:t.target,b=(t.position[0],t.position[1],Object(n.useState)(!1)),j=Object(i.a)(b,2),x=j[0],m=j[1],O={time:d.x,yPos:d.y,radius:d.radius,sourceX:d.source?d.source[1].x:null,sourceY:d.source?d.source[1].y:null,targetX:d.source?d.target[1].x:null,targetY:d.source?d.target[1].y:null,timeStart:d.start,timeEnd:d.end,yStart:d.yStart,yEnd:d.yEnd,text:d.text,color:d.color,opacity:d.opacity,width:d.width,importance:d.importance};Object.entries(O).forEach((function(e){e[1]||(O[e[0]]="")}));var y=Object(n.useState)(O),f=Object(i.a)(y,2),g=f[0],v=f[1],S=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;v(Object(u.a)(Object(u.a)({},g),{},Object(p.a)({},n,a)))},C=function(e){e.preventDefault(),v(O),m(!1)};switch(t.type){case"interval":o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"From: \xa0",Object(h.jsx)("br",{}),"To: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0",Object(h.jsx)("br",{}),"Width: \xa0"]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(_,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"sourceX",value:g.sourceX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(h.jsx)(_,{name:"sourceY",value:g.sourceY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"targetX",value:g.targetX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(h.jsx)(_,{name:"targetY",value:g.targetY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"width",value:g.width,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var t=Object(u.a)({},c),n=[g.sourceX,g.sourceY,g.targetX,g.targetY].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)})),r=t[d.source[0]];r.x=n[0],r.y=n[1],t[d.target[0]].x=n[2],t[d.target[0]].y=n[3],r.intervalColor=g.color,r.intervalWidth=g.width,r.intervalOpacity=g.opacity,r.intervalText=g.text,l(t),m(!1),a(null)},children:"Submit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:C,children:"Cancel"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),m(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),P(d,c,l),a(null)},children:"Delete Interval"})]})})]});break;case"zone":o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"Time Start: \xa0",Object(h.jsx)("br",{}),"Time End: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0"]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(_,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"timeStart",value:g.timeStart,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"timeEnd",value:g.timeEnd,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r),c=[g.timeStart,g.timeEnd].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{start:c[0],end:c[1],yStart:c[2],yEnd:c[3],text:g.text,color:g.color,opacity:g.opacity,importance:g.importance}),console.log(n[t.target[0]]),l(n,"zones"),m(!1),a(null)},children:"Submit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:C,children:"Cancel"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),m(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r);delete n[t.target[0]],l(n,"zones"),a(null)},children:"Delete Zone"})]})})]});break;default:o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"Time: \xa0",Object(h.jsx)("br",{}),"Y Position: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Radius: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(_,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"time",value:g.time,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"yPos",value:g.yPos,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"radius",value:g.radius,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},c),r=[g.time,g.yPos].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{x:r[0],y:r[1],text:g.text,color:g.color,radius:g.radius,opacity:g.opacity,importance:g.importance}),l(n),m(!1),a(null)},children:"Submit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:C,children:"Cancel"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),m(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),V(t.target,c,l),a(null)},children:"Delete Instant"})]})})]})}return Object(h.jsx)("div",{className:"ui absolute",style:{left:t.position[0]+"px",top:t.position[1]+"px"},children:o})};a.p;a.p;var F,I,A=["title","titleId"];function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function q(e,t){var a=e.title,c=e.titleId,r=Y(e,A);return n.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,F||(F=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),I||(I=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M31.88,22.46H11a1,1,0,0,1,0-2H31.88a1,1,0,1,1,0,2Z"})))))}var U=n.forwardRef(q);a.p;a.p;a.p;a.p;a.p;a.p;a.p;a.p;var z=function(e){var t=Object(n.useState)(Object(h.jsx)(U,{className:"icon",alt:"interval"})),a=Object(i.a)(t,2),c=(a[0],a[1],Object(n.useState)(!1)),r=Object(i.a)(c,2),l=(r[0],r[1],function(t,a){if(a?a.preventDefault():t.preventDefault(),e.setNav(t),e.toggle&&e.toggle===t)e.setToggle(null),e.setNav(null);else if("newProj"===t){window.confirm("Are you sure you want to begin a new project?")&&window.location.reload()}else"about"===t?window.open("https://docs.google.com/document/d/1QgYcAYyawUQpgWIHhZpVytLEUvqQ3-6U/edit?usp=sharing&ouid=116007712725124035967&rtpof=true&sd=true"):"tutorial"===t?window.open("https://youtu.be/y0sMNCfgH-8"):"documentation"===t?window.open("https://github.com/huegor/chronovis-paintbox"):e.setToggle(t)});return console.log(e.canUndo),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{className:"container fullHeight smallPadding",children:[Object(h.jsx)("h2",{children:Object(h.jsxs)("b",{children:["ChronoVis:",Object(h.jsx)("br",{}),"Post-Englebart"]})}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"bold smallTxt textSecondary",children:"Add Temporal Object"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("addInterval",e)},disabled:!e.hasScales,title:"Interval",children:"Interval"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("addInstant",e)},disabled:!e.hasScales,title:"Instant",children:"Instant"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("addZone",e)},disabled:!e.hasScales,title:"Zone",children:"Zone"})})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"bold smallTxt textSecondary",children:"Scales"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("editScale",e)},disabled:!e.hasScales,title:"Edit Scale",children:"Edit Scale"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("addScale",e)},disabled:!e.hasScales,title:"Create Scale",children:"Create Scale"})})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"bold smallTxt textSecondary",children:"File"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return l("dataLibrary",e)},disabled:!e.hasScales,children:"Import from Library"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:e.undo,disabled:!e.canUndo,children:"Undo"})})]})]})})};var H=function(e){var t=e.setProj,a=e.setFileName,c=e.setToggle,r=e.toggle,l=Object(n.useState)(""),s=Object(i.a)(l,2),o=s[0],u=s[1];return Object(h.jsx)("div",{className:"fullHeight container containerCenter bgSecondary",onClick:function(e){return r?c(null):null},children:Object(h.jsxs)("div",{className:"flexCenter eightyWidth",children:[Object(h.jsxs)("h2",{children:["Hey, I\u2019m ChronoVis: Post-Englebart. In my world, ",Object(h.jsx)("b",{children:"your left hand becomes the mouse, and your feet become the keyboard."})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h2",{children:"I am a spin-off of ChronoVis: Paintbox, a no-code graphical interface for generating temporal data visualizations (built in collaboration with Dr. Johanna Drucker)"}),Object(h.jsx)("br",{}),Object(h.jsx)("h1",{children:"To begin, consult the README Pamphlet. Then, name and create a new project."}),Object(h.jsxs)("form",{className:"container containerStretch flexRow",onSubmit:function(e){e.preventDefault(),t(!0),a(o)},children:[Object(h.jsx)("input",{type:"text",className:"flexGrow2",placeholder:"insert project name",value:o,onChange:function(e){return u(e.target.value)},required:!0}),"\xa0\xa0\xa0",Object(h.jsx)("button",{className:"buttonPrimary",children:"Create Project"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})})};var R=function(e){var t=e.setToggle,a=(e.toggle,e.fileName);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:"textCentered textSecondary",children:a}),Object(h.jsx)("div",{className:"container almostFullHeight containerCenter",children:Object(h.jsxs)("div",{className:"flexCenter eightyWidth",children:[Object(h.jsxs)("h2",{children:["Welcome to the ",Object(h.jsxs)("b",{children:['"',a,'"']})," project space!"]}),Object(h.jsx)("br",{}),Object(h.jsxs)("h2",{children:["If you would like to ",Object(h.jsx)("b",{children:"see some examples"})," of how this tool can be used:"]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("dataLibrary")},children:"Import From Temporal Model Library"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("h2",{children:["If you\u2019d prefer to ",Object(h.jsx)("b",{children:"learn by doing"}),", turn to ",Object(h.jsx)("b",{children:"pg. xx of the README"})," and find out how you can:"]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("addScale")},children:"Model Events from Your Life Organized by Importance"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})})]})};var B=function(e){var t=e.projects,a=e.updateSrc,c=e.setToggle,r=Object(n.useState)(""),l=Object(i.a)(r,2),s=l[0],o=l[1],u=function(e){o(e.target.value)};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsxs)("span",{className:"textSecondary",children:[Object(h.jsx)("b",{children:"Temporal Models Library"}),Object(h.jsx)("br",{}),"Some pre-constructed examples to stir the imagination."]}),Object(h.jsx)("br",{}),Object.entries(t).map((function(e,t){var a=Object(i.a)(e,2),n=a[0],c=a[1];return Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsx)("input",{type:"radio",value:n,onChange:u,checked:s===n}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:n}),Object(h.jsx)("br",{}),c.description,Object(h.jsx)("br",{})]})]},t)})),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),a(t[s].data,"import"),c(null)},children:"Submit"}),"\xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),c(null)},children:"Cancel"})]})]})},X=(a(158),a(46)),W=a(47),Z=a(48),J=a(49),G=a(50),Q=a.n(G);var K=function(e){var t=Object(n.useRef)(),a=Object(n.useMemo)((function(){return new Q.a({hands:{enabled:!0,maxNumHands:1}})}),[t]);a.enablePlugins("browser"),Object(n.useEffect)((function(){return t&&t.current&&a.start((function(){a.pause()})),function(){return a.stop()}}),[]);var c=function(e){var t=Object(n.useCallback)((function(e){console.log(e),"AltLeft"===e.code&&(a.isLooping?a.pause():a.unpause())}),[]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",t,!0),function(){document.removeEventListener("keydown",t,!0)}}),[]),Object(h.jsx)("input",{className:"debugging"})};return Object(h.jsx)("div",{ref:t,children:Object(h.jsx)(c,{})})};var $=function(){var e={"My Life by Importance":{description:"A temporal model of events in my life organized by importance, as featured in the video tutorial.",data:W},"The Anthropocene Signal Amidst the Noise":{description:"AKA ChronoVis: TagVis, this data was imported and formatted from the UCLAB Anthropocene Curriculum Project. Special thanks to Francesca Morini and Marian D\xf6rk.",data:Z},"Waiting for the bus":{description:"\"I woke up at 7:30 am in someone else's bed today and it took me half an hour to get up. Thankfully, I won't be missing the 8:15AM bus, I thought. I tried to remember what happened last night but all I could recall was leaving the house at 9PM. Anyway, when I got to the bus stop 2 minutes before it was set to arrive, I waited and waited but it never showed up.\"",data:J}},t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(X),j=Object(i.a)(b,2),x=j[0],p=j[1],O=Object(n.useState)([]),y=Object(i.a)(O,2),f=y[0],g=y[1],v=Object(n.useState)(0),S=Object(i.a)(v,2),C=S[0],N=S[1],V=Object(n.useState)(),P=Object(i.a)(V,2),_=P[0],F=P[1],I=Object(n.useState)(),A=Object(i.a)(I,2),L=(A[0],A[1],Object(n.useState)(x.instants[C])),Y=Object(i.a)(L,2),q=Y[0],U=Y[1],G=Object(n.useState)(x.zones),Q=Object(i.a)(G,2),$=Q[0],ee=Q[1],te=Object(n.useState)(x.scales),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(!0),le=Object(i.a)(re,2),se=le[0],ie=le[1],oe=Object(n.useState)([Object.keys(ne.x)[0],Object.keys(ne.y)[0]]),ue=Object(i.a)(oe,2),de=ue[0],be=ue[1],je=Object(n.useState)(),xe=Object(i.a)(je,2),he=xe[0],me=xe[1],pe=Object(n.useState)(),Oe=Object(i.a)(pe,2),ye=Oe[0],fe=Oe[1],ge=Object(n.useState)(),ve=Object(i.a)(ge,2),Se=ve[0],Ce=ve[1],Ne=Object(n.useState)(),Te=Object(i.a)(Ne,2),ke=Te[0],we=Te[1],Me=Object(n.useState)([null,null,null]),De=Object(i.a)(Me,2),Ve=De[0],Pe=De[1],_e=function(e,t){if(g([].concat(Object(s.a)(f),[{src:x,activeScale:de,activeData:C,activeLayer:_}])),"import"===t)return ce(e.scales),be([Object.keys(e.scales.x)[0],Object.keys(e.scales.y)[0]]),N(0),U(e.instants[C]),ee(e.zones),void p(e);var a=x;"zones"===t?(ee(e),a.zones=$):"scales"===t?(ce(e),a.scales=e):(U(e),a.instants[C]=q),console.log(f),p(a),me(null)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(K,{}),Se&&Object(h.jsx)(E,{info:Se,setInfo:Ce,history:f,setHistory:g,data:q,setData:U,src:x,setSrc:p,updateSrc:_e,zones:$,radius:4}),Object(h.jsxs)("div",{className:"container flexRow containerStretch",children:[Object(h.jsx)(z,{toggle:he,setToggle:me,nav:ye,setNav:fe,data:q,showLabel:se,setShowLabel:ie,hasScales:Object.keys(ne.y).length,fileName:u,setFileName:d,proj:c,canUndo:f.length,undo:function(){var e=Object(s.a)(f),t=e.pop();e.length&&void 0!==t?(console.log(e.pop()),g([e]),be(t.activeScale),N(t.activeData),F(t.activeLayer),p(t.src),ce(t.src.scales),U(t.src.instants[C]),ee(t.src.zones)):g([])}}),Object(h.jsxs)("div",{onClick:function(e){return he?fe(null):null},className:"fullWidth",children:["dataLibrary"===he&&Object(h.jsx)(B,{projects:e,updateSrc:_e,setToggle:me}),"addInstant"===he&&Object(h.jsx)(T,{data:q,setData:U,target:ke,setToggle:me,scales:x.scales,activeScale:de,activeData:C,history:f,setHistory:g,updateSrc:_e}),"editScale"===he&&Object(h.jsx)(D,{scales:ne,updateSrc:_e,setToggle:me,activeScale:de,setActiveScale:be}),"addZone"===he&&Object(h.jsx)(w,{zones:$,updateSrc:_e,setToggle:me,scales:ne,activeScale:de}),"addInterval"===he&&Object(h.jsx)(k,{data:q,updateSrc:_e,setToggle:me,scales:ne,activeScale:de,history:f,setHistory:g}),"addScale"===he&&Object(h.jsx)(M,{src:x,updateSrc:_e,setToggle:me,setActiveScale:be}),c?Object.keys(ne.x).length?Object(h.jsx)("div",{id:"main",className:"container fullHeight",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:"textCentered textSecondary",children:u}),Object(h.jsx)(m,{data:q,setData:U,updateSrc:_e,zones:$,setZones:ee,radius:4,info:Se,setInfo:Ce,setInflectTarget:we,showLabel:se,activeLayer:_,toggle:he,setToggle:me,scales:ne,setScales:ce,syntacticOrder:Ve,setSyntacticOrder:Pe,activeScale:de})]})}):Object(h.jsx)(R,{toggle:he,setToggle:me,fileName:u}):Object(h.jsx)(H,{setProj:r,setFileName:d,toggle:he,setToggle:me})]})]})]})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,177)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)($,{})}),document.getElementById("root")),ee()},46:function(e){e.exports=JSON.parse('{"imgs":[],"instants":[{}],"zones":{},"scales":{"x":{},"y":{}}}')},47:function(e){e.exports=JSON.parse('{"imgs":[],"instants":[{"0":{"text":"","x":2021.67,"y":3,"scale":["Timeline","Importance"],"target":["1"],"intervalText":"Last vacation"},"1":{"text":"","x":2022,"y":3,"scale":["Timeline","Importance"],"target":null},"2":{"x":2013,"y":2,"scale":["Timeline","Importance"],"target":null,"text":"Going to SF"},"3":{"x":2022.5,"y":5,"scale":["Timeline","Importance"],"target":null,"text":"Getting own apartment","opacity":"0.5"}}],"zones":{"0":{"text":"Time in school","start":2002,"end":2022,"scale":["Timeline","Importance"]}},"scales":{"x":{"Timeline":{"min":1999,"max":2023,"units":"Years","yPos":0,"segments":[]}},"y":{"Importance":{"min":1,"max":5,"units":"Level of"}}}}')},48:function(e){e.exports=JSON.parse('{"imgs":[],"instants":[{"environmental_changes_acceleration":{"x":1950,"y":60,"scale":["calendarDate","Order in Text"],"text":"Environmental changes dramatically accelerated "},"anthropocene_epoch":{"x":1950,"y":68.84444444444445,"scale":["calendarDate","Order in Text"],"text":"Proposed starting date of the Anthropocene Epoch"},"slower_environmental_changes":{"x":1960,"y":77.6888888888889,"scale":["calendarDate","Order in Text"],"text":"Earlier slow-progressing changes caused solely by natural factors"},"lake_and_river_acidification":{"x":1980,"y":86.53333333333333,"scale":["calendarDate","Order in Text"],"text":"Acidification of poorly buffered lakes and rivers "},"ph_precipitation_value_drop":{"x":1980,"y":95.37777777777778,"scale":["calendarDate","Order in Text"],"text":"Drop in the pH value of precipitation "},"serious_environmental_problems":{"x":1980,"y":104.22222222222221,"scale":["calendarDate","Order in Text"],"text":"Serious environmental problems"},"fish_kills":{"x":1980,"y":113.06666666666666,"scale":["calendarDate","Order in Text"],"text":"Fish kills "},"forest_decline":{"x":1980,"y":121.9111111111111,"scale":["calendarDate","Order in Text"],"text":"Forest decline."},"ocean_ph_value":{"x":2022,"y":130.75555555555556,"scale":["calendarDate","Order in Text"],"text":"Current pH value of surface ocean water (8.1) is probably the lowest "},"iron_mountain_mine_remediation":{"x":1986,"y":139.60000000000002,"scale":["calendarDate","Order in Text"],"text":"Remediation of the abandoned Iron Mountain Mine (California, USA)"},"ion_water_concentration":{"x":1986,"y":148.44444444444443,"scale":["calendarDate","Order in Text"],"text":"Water concentrations of Zn, Cu, and Cd ions at Iron Mountain Mine were several grams per liter"},"mine_wastewater_discharge":{"x":1986,"y":157.2888888888889,"scale":["calendarDate","Order in Text"],"text":"Iron Mountain Mine\u2019s wastewater was discharged into the Sacramento River"},"industrial_nitrogen_and_phosphorus":{"x":1900,"y":166.13333333333333,"scale":["calendarDate","Order in Text"],"text":"Increased industrial nitrogen and phosphorus inputs "},"eutrophication":{"x":1900,"y":174.97777777777776,"scale":["calendarDate","Order in Text"],"text":"Eutrophication (an excess accumulation of nutrients) in aquatic environments"},"eutrophication_coral_loss":{"x":2022,"y":183.82222222222222,"scale":["calendarDate","Order in Text"],"text":"Loss of up to 60 percent of coral biodiversity by eutrophication in parts of Indonesia"},"eutrophication_species_disappearance":{"x":2022,"y":192.66666666666666,"scale":["calendarDate","Order in Text"],"text":"Vascular plant species have disappeared in Australia and North America"},"mississippi_dead_zone":{"x":2022,"y":201.51111111111112,"scale":["calendarDate","Order in Text"],"text":"Examples of a hypoxic \u201cdead zone\u201d is found west of the Mississippi delta"},"anthropogenic_metal_pollution":{"x":-10000,"y":210.35555555555555,"scale":["early","Order in Text"],"text":"Anthropogenic pollution with metals "},"mining_and_smelting":{"x":-10000,"y":219.20000000000002,"scale":["early","Order in Text"],"text":"Development of metal ore mining and smelting"},"metal_pollution_acceleration":{"x":1950,"y":228.04444444444442,"scale":["calendarDate","Order in Text"],"text":"Global-scale metal pollution accelerated "},"metal_consumption":{"x":1900,"y":245.73333333333335,"scale":["calendarDate","Order in Text"],"text":"Cu, Pb, and Zn show that about 90 percent of each of these metals was used "},"metal_fluxes_increase":{"x":1945,"y":254.57777777777775,"scale":["calendarDate","Order in Text"],"text":"Fluxes of copper, lead and zinc increased dramatically "},"metal_fluxes_decline":{"x":1980,"y":263.4222222222222,"scale":["calendarDate","Order in Text"],"text":"Fluxes of copper, lead and zinc started to decline in industrialized countries"},"lead_emissions_peak":{"x":1970,"y":272.26666666666665,"scale":["calendarDate","Order in Text"],"text":"Lead emissions reached a peak "},"lead_emissions_decrease":{"x":1980,"y":281.11111111111114,"scale":["calendarDate","Order in Text"],"text":"Lead emissions decreased due to a variety of measures"},"air_pollution_control_measures":{"x":1980,"y":289.9555555555555,"scale":["calendarDate","Order in Text"],"text":"Implementation of air pollution control technologies"},"gasoline_lead_concentration_reduction":{"x":1980,"y":298.8,"scale":["calendarDate","Order in Text"],"text":"Reductions in the maximum allowable concentrations of lead in gasoline "},"unleaded_gasoline":{"x":1980,"y":307.64444444444445,"scale":["calendarDate","Order in Text"],"text":"Introduction of unleaded gasoline"},"leaded_gasoline_elimination":{"x":1980,"y":316.4888888888889,"scale":["calendarDate","Order in Text"],"text":"The phase-out and elimination of leaded gasoline "},"organic_contaminants":{"x":1960,"y":325.3333333333333,"scale":["calendarDate","Order in Text"],"text":"Organic contaminants began to cause a major concern "},"evident_effect_of_pesticides":{"x":1960,"y":334.1777777777778,"scale":["calendarDate","Order in Text"],"text":"Adverse effect of organochlorine pesticides became evident"},"pesticide_ban":{"x":1975,"y":343.02222222222224,"scale":["calendarDate","Order in Text"],"text":"Many countries banned the use of organochlorine pesticides"},"pcb_us_ban":{"x":1977,"y":351.8666666666666,"scale":["calendarDate","Order in Text"],"text":"Use and production of PCBs was banned in the US "},"pcb_europe_ban":{"x":1980,"y":360.7111111111111,"scale":["calendarDate","Order in Text"],"text":"Use and production of PCBs was banned in Europe"},"pbde_production":{"x":1970,"y":369.55555555555554,"scale":["calendarDate","Order in Text"],"text":"PBDEs production"},"pbde_europe_ban":{"x":2000,"y":378.40000000000003,"scale":["calendarDate","Order in Text"],"text":"PBDEs banned in Europe"},"pbde_uses":{"x":1970,"y":387.24444444444447,"scale":["calendarDate","Order in Text"],"text":"PBDEs were utilized as flame retardants, fumigants, and antifungals"},"pah_peak_europe_and_us":{"x":1950,"y":396.08888888888885,"scale":["calendarDate","Order in Text"],"text":"Peak of PAH concentrations in sediment layers in Europe and the US"},"pah_peak_south_america":{"x":1970,"y":404.93333333333334,"scale":["calendarDate","Order in Text"],"text":"Peak of PAH concentrations in sediment layers in South America"},"pah_peak_china":{"x":1980,"y":413.77777777777777,"scale":["calendarDate","Order in Text"],"text":"Peak of PAH concentrations in sediment layers in China"},"pah_peak_japan":{"x":1940,"y":422.6222222222222,"scale":["calendarDate","Order in Text"],"text":"Peak of PAH concentrations in sediment layers in Japan"},"dioxins_trends_increasing":{"x":1940,"y":431.4666666666667,"scale":["calendarDate","Order in Text"],"text":"Dioxins in sediment cores from Europe and the US show increasing trends "},"dioxins_peak_concentrations":{"x":1960,"y":440.31111111111113,"scale":["calendarDate","Order in Text"],"text":"Dioxins in sediment cores from Europe and the US show peak concentrations"},"pcb_decrease":{"x":1977,"y":449.1555555555555,"scale":["calendarDate","Order in Text"],"text":"Levels of PCBs in the environment decreased "},"pollutants_persistent_effects":{"x":2022,"y":458,"scale":["calendarDate","Order in Text"],"text":"Pollutants still appear to adversely affect biota"}}],"zones":{},"scales":{"x":{"early":{"min":-10010,"max":-9000,"units":"Years","yPos":0,"hideLabel":true,"segments":[{"max":-10000}]},"calendarDate":{"min":1810,"max":2022,"units":"Years","yPos":0,"segments":[{"min":1900}]}},"y":{"Order in Text":{"min":60,"max":458,"units":"paragraph"}}}}')},49:function(e){e.exports=JSON.parse('{"imgs":[],"instants":[{"0":{"text":"Woke up in someone else\'s bed","x":7.5,"y":1,"scale":["Time relative to 00:00","Place in Text"],"target":["1"],"intervalText":"Get up","color":"","radius":"","opacity":"","importance":""},"1":{"text":"","x":8,"y":1,"scale":["Time relative to 00:00","Place in Text"],"target":null},"2":{"x":8.25,"y":2,"scale":["Time relative to 00:00","Place in Text"],"target":null,"text":"Bus arrival","opacity":"0.5","color":"","radius":"","importance":""},"3":{"x":-3,"y":3,"scale":["Time relative to 00:00","Place in Text"],"target":null,"text":"Left the house","color":"","radius":"","opacity":"","importance":""},"4":{"text":"Got to the bus stop","x":8.25,"y":4,"scale":["Time relative to 00:00","Place in Text"],"target":["5"],"intervalText":"Waited","color":"","radius":"","opacity":"","importance":""},"5":{"text":"","x":"noEnd","y":4,"scale":["Time relative to 00:00","Place in Text"],"target":null}}],"zones":{},"scales":{"x":{"Time relative to 00:00":{"min":-3,"max":8.5,"units":"Hours","yPos":0,"tickValues":[],"segments":[{"min":-3,"max":-3},{"min":7}]}},"y":{"Place in Text":{"min":1,"max":4,"units":"sentence"}}}}')}},[[176,1,2]]]);
//# sourceMappingURL=main.58e43f2c.chunk.js.map