{"version":3,"sources":["components/useResizeObserver.js","components/generateIntervals.js","components/Graphic.js","components/Image.js","components/InputFormScale.js","components/NewInstantForm.js","components/InputFormText.js","components/InputFormNum.js","components/NewIntervalForm.js","components/NewZoneForm.js","components/NewScaleForm.js","components/EditScaleForm.js","components/deleteInstant.js","components/deleteInterval.js","assets/icons/edit.svg","components/EditForm.js","components/InfoBox.js","components/ExportDataForm.js","components/ImportDataForm.js","assets/icons/file.svg","assets/icons/instant.svg","assets/icons/interval.svg","assets/icons/zone.svg","assets/icons/menu.svg","assets/icons/pan.svg","assets/icons/scales.svg","assets/icons/views.svg","assets/icons/connection1.svg","assets/icons/causation.svg","components/NavBar.js","components/Layers.js","components/Scrubber.js","components/Legend.js","components/SelectedDisplay.js","components/Certainty.js","components/Importance.js","components/Connection.js","components/WelcomeMessage.js","components/EmptyProj.js","components/DataLibrary.js","components/Hands.js","App.js","reportWebVitals.js","index.js"],"names":["useResizeObserver","ref","useState","dimensions","setDimensions","useEffect","observeTarget","current","resizeObserver","ResizeObserver","entries","forEach","entry","contentRect","observe","unobserve","generateIntervals","data","intervals","Object","item","value","target","n","instant","push","source","text","intervalText","color","intervalColor","width","intervalWidth","opacity","intervalOpacity","dashed","intervalDashed","Graphic","setData","updateSrc","activeLayer","zones","radius","setZones","setInfo","info","setInflectTarget","showLabel","toggle","setToggle","scales","syntacticOrder","setScales","setSyntacticOrder","activeScale","activeData","activeZones","logic","length","isNaN","x","svgRef","useRef","wrapperRef","currentZoomState","setCurrentZoomState","yScales","yTicks","y","k","v","scale","scaleLinear","domain","height","range","min","max","drag","ticks","Set","svg","select","selectAll","remove","logicScale","scaleOrdinal","unknown","map","yMin","yMax","rangeY","xInverse","currentScale","xScales","fromEntries","key","thisScale","noBeginning","noEnd","hasSegments","segments","hideLabel","yPos","label","units","tickValues","scaleInverse","newXScale","rescaleX","yScale","yScaleInverse","yScaleInverseDrag","console","log","join","attr","start","end","importance","on","e","position","type","stopPropagation","keys","i","proportion","segment","xSegments","axisBottom","tickSize","append","style","call","raise","g","d","xAxis","concat","tickFormat","format","yAxis","axisLeft","hideLabels","dragged","dx","subject","dy","newInstants","intervaler","linkHorizontal","interval","newOrder","layerX","layerY","newData","cancelled","find","id","foreshadowing","cancelledSymbol","draw","context","size","s","Math","sqrt","moveTo","lineTo","closePath","filter","symbol","thisSourceScale","thisTargetScale","zoomBehavior","zoom","scaleExtent","translateExtent","zoomState","transform","zoomRange","invert","round","precision","log10","floor","pow","className","Image","props","src","urls","alt","InputFormScale","name","onChange","list","NewInstantForm","state","xValue","yValue","xScale","handleChange","bind","handleClose","handleSubmit","this","setState","preventDefault","lastKey","pop","parseInt","lastInstant","tempx","parseFloat","tempy","alert","placeholder","required","onClick","React","Component","InputFormText","InputFormNum","NewIntervalForm","history","setHistory","xValue1","yValue1","xValue2","yValue2","values","setValues","xSelect","ySelect","tempX1","tempY1","tempX2","tempY2","NewZoneForm","yStart","yEnd","newZones","NewScaleForm","setActiveScale","xName","xMin","xMax","xUnits","xYPos","xTickValues","xHideUnits","xSegmentsNum","yName","yUnits","yPercent","yHideUnits","newScales","tempxMin","tempxMax","tempYPos","tempyMin","tempyMax","EditScaleForm","hideUnits","percent","newActiveScale","deleteInstant","includes","deleteInterval","_g","srcKey","targetKey","_excluded","_extends","assign","arguments","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEdit","_ref","title","titleId","xmlns","viewBox","ForwardRef","EditForm","editMode","inputType","nullValue","InfoBox","content","Array","isArray","setEditMode","dataValues","time","sourceX","sourceY","targetX","targetY","timeStart","timeEnd","handleCancel","xyNums","node","left","top","ExportDataForm","setSrc","fileName","setName","onSubmit","newSrc","instants","fileData","JSON","stringify","blob","Blob","url","URL","createObjectURL","link","document","createElement","download","href","click","ImportDataForm","_defs","setFileName","setProj","selectedFile","setSelectedFile","isSelected","setIsSelected","fileReader","FileReader","readAsText","onload","parse","result","replace","onerror","error","files","SvgFile","SvgInstant","cx","cy","r","SvgInterval","SvgZone","SvgMenu","SvgPan","SvgScales","SvgViews","SvgConnection1","EditButton","NavBar","iconTempObj","setIconTempObj","handleClick","setNav","window","confirm","location","reload","open","disabled","hasScales","nav","proj","undo","Layers","setActiveLayer","parent","parentNode","layers","layer","sort","a","b","number","Scrubber","setActiveData","Legend","backgroundColor","SelectedDisplay","Certainty","input","setInput","Importance","Zones","Connection","connections","instant2","WelcomeMessage","EmptyProj","DataLibrary","projects","selectedProject","setSelectedProject","checked","description","Hands","handsFree","useMemo","HandsFree","hands","enabled","maxNumHands","enablePlugins","pause","stop","KeyDetector","keyPress","useCallback","event","code","isLooping","unpause","addEventListener","removeEventListener","App","LifeImportanceData","TagVisData","WaitingForBusData","NullData","setShowLabel","inflectTarget","newHistory","last","undefined","imgs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0cabc30.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\"; //otherwise breaks in safari and edge\n\n/**\n* A hook that defines an html dom element for ResizeObserver to watch\n**/\n\nconst useResizeObserver = ref => {\n  const [dimensions, setDimensions] = useState(null);\n  //only access reference (aka the svg) when it's rendered\n  useEffect(() => {\n    const observeTarget = ref.current;\n    //create new resize observer w callback that takes resize target as args\n    const resizeObserver =  new ResizeObserver((entries) => {\n      //contentRect is the part ResizeObserver returns that has xy dimensions\n      entries.forEach(entry => {\n        setDimensions(entry.contentRect);\n      });\n    });\n    resizeObserver.observe(observeTarget);\n    //cleanup function when unmount\n    return () => {\n      resizeObserver.unobserve(observeTarget);\n    };\n  }, [ref]);\n  return dimensions;\n};\n\nexport default useResizeObserver;\n","/*\n   generates intervals between all intervaled instants and\n   returns a interval object with interval properties.\n*/\n\nfunction generateIntervals(data) {\n// console.log(data[8])\n  /*\n    expand to standalone paths? bezier curve: https://svg-path-visualizer.netlify.app/bezier-curve/\n    - start: can specify point or enter coordinate values directly (run thru xScale)\n    - control: ???\n    - end: same as start\n    output: M startX,startY C controlX1,controlY1 controlX2,controlY2 endX, endY\n  */\n\n  const intervals = []; //array of all instant intervals\n\n  Object.entries(data).forEach((item) => {\n    const key = item[0];\n    const value = item[1];\n\n    if (!value.target) {\n      //if the instant does not have a target, skip generating interval\n      return\n    } else {\n      value.target.forEach((n) => {\n        const instant = [n, data[n]];\n        if (instant[1]) { //does instant exist?\n          intervals.push({\n            source:item,\n            target:instant,\n            text: value.intervalText,\n            color:value.intervalColor ? value.intervalColor : value.color ? value.color : null, //if not specified, use point color. otherwise, null\n            width:value.intervalWidth,\n            opacity:value.intervalOpacity ? value.intervalOpacity : null,\n            dashed: value.intervalDashed\n          });\n        }\n      });\n    }\n  });\n  return intervals;\n};\n\nexport default generateIntervals;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { select, scaleLinear, scaleOrdinal, axisBottom, axisLeft, linkHorizontal, format, drag, zoom, min, max, symbol, symbols } from \"d3\";\nimport useResizeObserver from \"./useResizeObserver\";\nimport generateIntervals from \"./generateIntervals\";\n\nfunction Graphic({\n  data, setData,\n  updateSrc,\n  activeLayer,\n  zones, setZones,\n  radius,\n  info, setInfo,\n  setInflectTarget,\n  showLabel,\n  toggle, setToggle,\n  scales, setScales,\n  syntacticOrder, setSyntacticOrder,\n  activeScale\n}) {\n\n  //all data is passed down from and synced to App.js\n  const activeData = Object.entries(data); //convert json to array for faster processing\n  const activeZones = Object.entries(zones);\n  //TODO: layers\n  // const activeData = activeLayer ? Object.entries(data).filter(([k,v]) => v.layer === activeLayer) : arrayData;\n\n  //convert scale object to array for faster processing\n\n\n  //is logical operators active?\n  const logic = data.length? isNaN(data[0].x): null; //TODO: refine logical operators\n\n  //initialize reference object to pass to svg in React Dom\n  const svgRef = useRef();\n  //svg wrapped in div bc otherwise resize observer callback won't work\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  const [currentZoomState, setCurrentZoomState] = useState();\n\n  //hash map of y scales\n  const yScales = {};\n\n  //init scales. turn into useRef eventually\n  useEffect(() => {\n    if (!dimensions) return;\n    const yTicks = [];\n\n    for (let v of activeData) {\n      yTicks.push(activeData.y);\n    }\n\n    Object.entries(scales.y).forEach(([k, v]) => {\n      yScales[k]= {\n        scale: scaleLinear()\n        .domain([0, dimensions.height])\n        .range([v.min, v.max]),\n        drag: scaleLinear()\n        .domain([-dimensions.height, dimensions.height])\n        .range([-(v.max-v.min), (v.max-v.min)]),\n        ticks: [...new Set(yTicks)]\n      }\n    });\n  }, [dimensions, scales, currentZoomState, data]);\n\n  //initialize intervals between instants\n  const intervals = generateIntervals(data); //TODO: write updateIntervals function\n\n  //initialize variables\n  /*\n  var xMin = min(Object.entries(data).map(([key, {x}]) => logic ? logicScale(x) : x));\n  var xMax = max(Object.entries(data).map(([key, {x}]) => logic ? logicScale(x) : x));\n  var yMin = min(Object.entries(data).map(([key, {y}]) => y));\n  var yMax = max(Object.entries(data).map(([key, {y}]) => y));\n  */\n\n  //all d3 shennanigans goes in this hook. called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current); //\"svg\" is the current version of svgRef data\n    //prevents crashing when useResizeObserver returns null before svg is rendered\n    if (!dimensions) return;\n    //removes svgs added using append()\n    svg\n      .selectAll(\".remove\")\n      .remove();\n    //removes\n    if (!activeData.length) {\n      svg\n        .selectAll(\".instant\")\n        .remove();\n      svg\n        .selectAll(\".interval\")\n        .remove();\n      svg\n        .selectAll(\".label\")\n        .remove();\n      svg\n        .selectAll(\".intervalLabel\")\n        .remove();\n\n    } else if (!activeZones.length) {\n      svg\n        .selectAll(\".zones\")\n        .remove();\n    }\n\n    //rounding for data inputted thru paintbox interface\n    function round(value, range) {\n      const precision = Math.log10(range)<1 ? -(Math.floor(Math.log10(range)-1)) : 0;\n      return Math.round(value*Math.pow(10, precision))/ Math.pow(10, precision)\n    }\n\n\n    //---scales---//\n\n    //if time matches logical operator keyword, translate into index values, then map\n    const logicScale = scaleOrdinal([\"before\", \"now\", \"after\"], [-1, 0, 1]).unknown(0);\n\n    const breakpoint = 5;\n\n\n    const xMin = min(activeData.map(([key, {x}]) => logic ? logicScale(x) : x));\n    const xMax = max(activeData.map(([key, {x}]) => logic ? logicScale(x) : x));\n    // const yMin = min(Object.entries(data).map(([key, {y}]) => y));\n    // const yMax = max(Object.entries(data).map(([key, {y}]) => y));\n    const yTicks = activeData.map(([,{y}]) => y);\n    const yMin = scales.y[activeScale[1]].min;\n    const yMax = scales.y[activeScale[1]].max;\n    const rangeX = xMax-xMin; //0 is minX, 1 is maxX (reference findMinMax)\n    const rangeY = yMax-yMin;\n\n\n    /*\n    - Allow users to specify scale. x&y min max and units label\n    - for each scale, generateScale()\n    */\n\n    // function generateScales(currentScale) { //TODO: turn into dedicated scaleDrag\n    //\n    //   const xInverse = scaleLinear()\n    //     .domain([0, dimensions.width])\n    //     .range([currentScale.min, currentScale.max]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    //   const xDrag = scaleLinear()\n    //     .domain([-dimensions.width, dimensions.width])\n    //     .range([-(currentScale.domain()[1]-currentScale.domain()[0]), (currentScale.domain()[1]-currentScale.domain()[0])]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    //   const yInverse = scaleLinear()\n    //     .domain([-dimensions.height, dimensions.height])\n    //     .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5])\n    //\n    //\n    //   return {\n    //     xInverse, xDrag, yInverse\n    //   };\n    // }\n    const xInverse = (currentScale) => scaleLinear()\n      .domain([0, dimensions.width])\n      .range([currentScale.min, currentScale.max]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    const xDrag = (currentScale) => scaleLinear()\n      .domain([-dimensions.width, dimensions.width])\n      .range([-(currentScale.domain()[1]-currentScale.domain()[0]), (currentScale.domain()[1]-currentScale.domain()[0])]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    // const yInverse = scaleLinear()\n    //   .domain([-dimensions.height, dimensions.height])\n    //   .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5])\n\n\n    //scales values to screen pixels\n    /*\n    {\n      biggie: {\n        ...\n        scale: generateScale()\n      }\n      ...\n    }\n    */\n\n    /*\n    xScale =\n    {\n\n  }\n    */\n\n\n    //TODO: fromEntries & entries not compatible with some older browsers\n    const xScales = Object.fromEntries( //for every scale in scales data, generate an xScale\n      Object.entries(scales.x).map(([key, thisScale]) => [\n        key,\n        {\n          scale: scaleLinear() //scaleLinear takes domain (data values) & maps onto range (screen pixel values)\n            .domain([thisScale.min, thisScale.max])\n            .range([0, dimensions.width]),\n          noBeginning: thisScale.min-0.1*(thisScale.max-thisScale.min),\n          noEnd: thisScale.max+0.1*(thisScale.max-thisScale.min),\n          hasSegments: thisScale.segments.length?true:false,\n          hideLabel: thisScale.hideLabel,\n          yPos: 1-thisScale.yPos,\n          label: `${key} (${thisScale.units})`,\n          tickValues: thisScale.tickValues?thisScale.tickValues:null,\n          scaleInverse: scaleLinear() //for NewInstantForm\n            .domain([0, dimensions.width])\n            .range([thisScale.min, thisScale.max])\n        }\n      ])\n    );\n\n    const xSegments = () => {\n      const segments = [];\n      Object.keys(scales.x).forEach((key, i) => {\n        const thisScale = scales.x[key];\n        // const segments = [];\n        if (!thisScale.segments.length) {\n          return;\n        }\n        thisScale.segments.map(n => {\n          const min = n.min?n.min:thisScale.min; //if segment contains a min, set that as min. otherwise, set scale min as min.\n          const max = n.max?n.max:thisScale.max;\n          // console.log(xScales[i].scale(min));\n          segments.push({\n            scale: key,\n            yPos: 1-thisScale.yPos,\n            proportion: (max-min)/(thisScale.max-thisScale.min),\n            segment: scaleLinear()\n            .domain([min, max])\n            .range([xScales[key].scale(min), xScales[key].scale(max)])\n          })\n        })\n      });\n      return segments;\n    }\n\n\n    /*\n      xScales(generateScales(scaleLinear(scale)))\n      - take xScale and rescale according to transformations (newXScale)\n      - update each array entry's domain with that of newXScale\n    */\n    //if there is a zoom transform, override each xScales.scale with adjusted scale\n    if (currentZoomState) {\n      Object.entries(xScales).forEach(([key,thisScale]) => {\n        const newXScale = currentZoomState.rescaleX(thisScale.scale); //zoom state comes w methods for transformations\n        const newMin = newXScale.domain()[0]\n        const newMax = newXScale.domain()[1];\n\n        //applies zoom transformations to scale + scaleInverse\n        xScales[key].scale = newXScale;\n      });\n\n\n    };\n    // const xScale = scaleLinear()\n    //   .domain([xMin, xMax]) //scaleLinear takes domain (data values) & maps onto range (screen pixel values)\n    //   .range([0, dimensions.width]);\n    const yScale = scaleLinear()\n      //if difference in y vaules greater than 5, resize to min and max\n      // .domain((rangeY>breakpoint) ? [yMin, yMax] : [yMin-breakpoint, yMax+breakpoint])\n      .domain([yMin, yMax])\n      .range([dimensions.height,0]);\n    //inverse scales for drag behavior\n    // const xScaleInverse = scaleLinear()\n    //   .domain([-dimensions.width, dimensions.width])\n    //   .range([-rangeX, rangeX]); //maxRangeX-minRangeX gives section of x values displayed onscreen\n    const yScaleInverse = scaleLinear()\n      .domain([0, dimensions.height])\n      .range([yMin, yMax])\n      // .range((rangeY>breakpoint) ? [yMin, yMax] : [yMin-breakpoint, yMax+breakpoint]);\n    const yScaleInverseDrag = scaleLinear()\n      .domain([dimensions.height, -dimensions.height])\n      .range([-rangeY, rangeY])\n      // .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5]);\n\n\n    console.log(scales, xScales, yScale)\n\n    if (Object.entries(zones).length) {\n      svg\n      .selectAll(\".zones\")\n      .data(activeZones)\n      .join(\"rect\")\n      .attr(\"class\", \"zones pointer\")\n      .attr(\"x\", ([, v]) => xScales[v.scale[0]].scale(v.start))\n      // .attr(\"x\", n => generateScales(scales[n.scale]).x(n.start))\n      .attr(\"y\", ([, v]) => yScale(yMax))\n      // .attr(\"y\", ([, v]) => v.yStart ? yScale(v.yStart) : yMin-10) //TODO: if no yStart, minimum y value\n      .attr(\"width\", ([, v]) => xScales[v.scale[0]].scale(v.end) - xScales[v.scale[0]].scale(v.start))\n      .attr(\"height\", ([, v]) => {\n        return (yScale(yMin))\n        // if (v.yStart & v.yEnd) {\n        //   return (yScale(v.yStart)-yScale(v.yEnd))\n        // } else if (v.yStart) {\n        //   return (yScale(v.yStart)-yScale(yMax-10))\n        // } else {\n        //   return (yScale(yMax-10)) //TODO: if no yStart, minimum y value\n        //   // return (yScale(minMax[3])-yScale(minMax[2]))\n        // }\n      })\n      .attr(\"opacity\", ([k, v]) => v.opacity ? v.opacity : 0.5)\n      .attr(\"fill\", ([k, v]) => v.color ? v.color : \"#999\")\n      .attr(\"stroke\", \"black\") //TODO: stroke be different colors\n      .attr(\"stroke-width\", ([k, v]) => v.importance ? v.importance*2 : 0)\n      .on(\"click\", (e, target) => {\n        if (toggle===\"certainty\" || toggle===\"importance\") { //pulls up inflection menu\n          setInflectTarget(target);\n        } else if (toggle!==\"pan\" || toggle!==\"addInstant\"){ //displays zone properties when clicked\n          setInfo(null); //clear InfoBox\n          setInfo({position: [e.x, e.y], target: target, type: \"zone\"});  //TODO: set info to null when clicking same zone again\n        }\n        e.stopPropagation();\n      });\n    }\n\n    //---draw bottom axis---//\n\n    xSegments().forEach(n => {\n      //TODO: push all the axis ticks() values into an array\n      // [...new Set(segments)]\n      //draw from there\n      const segment = axisBottom(n.segment)\n      // .ticks(n.proportion<.33?5:null, \"f\");\n      .ticks(null, \"f\")\n      .tickSize(-dimensions.height); //TODO\n\n      svg\n        .append(\"g\")\n        .attr(\"class\", \"remove\")\n        .style(\"transform\", `translateY(${dimensions.height*n.yPos}px)`)\n        .call(segment)\n        .raise()\n        .call(g => g.select(\".domain\") //removes solid black axis bar\n          .remove())\n        .call(g => g.selectAll(\".tick line\") //styles individual ticks\n          .attr(\"stroke-opacity\", 0.25))\n        .call(g => g.selectAll(\".tick text\")\n          .attr(\"y\", 10)\n          .attr(\"opacity\", (d, i) => { //TODO: remove instead of setting opacity to 0\n            if ((n.proportion<.25)&&(i%3)) { //less than 1/4, label every 3 ticks\n              return 0;\n            } else if ((n.proportion<.33)&&(i%2)) { //less than 1/3, label every other tick\n              return 0;\n            } else {\n              return 0.5\n            }\n          })\n        );\n    });\n\n    Object.entries(xScales).forEach(([key,thisScale]) => {\n      const xAxis = axisBottom(thisScale.scale)\n      .tickValues(thisScale.scale.ticks().concat(scales.x[key].min, scales.x[key].max)) //pass in autogenerated tick values + min and max values\n      .tickFormat(format(''))\n      .tickSize(-dimensions.height);\n      // console.log(thisScale.scale.ticks())\n\n      if (!thisScale.hasSegments) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"remove\")\n          .style(\"transform\", `translateY(${dimensions.height*thisScale.yPos}px)`)\n          .call(xAxis)\n          .raise()\n          .call(g => g.select(\".domain\") //removes solid black axis bar\n            .remove())\n          .call(g => g.selectAll(\".tick line\") //styles individual ticks\n            .attr(\"stroke-opacity\", 0.25))\n          .call(g => g.selectAll(\".tick text\")\n            .attr(\"y\", 10) //TODO: dynamic tick text spacing for accessibility\n            .attr(\"opacity\", 0.5));\n      }\n      if (!thisScale.hideLabel) {\n        svg\n          .append(\"text\")\n          .text(thisScale.label)\n          .attr(\"class\", \"axisLabel smallTxt remove\")\n          .attr(\"x\", dimensions.width/2)\n          .attr(\"y\", dimensions.height*(thisScale.yPos+.07))\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"opacity\", 0.5);\n        }\n      }\n    );\n\n    //--draw vertical axis--//\n\n    const yAxis = axisLeft(yScale)\n    .tickValues([...new Set(yTicks), scales.y[activeScale[1]].min, scales.y[activeScale[1]].max]) //reg mode\n    .tickFormat(format(''))\n\n    svg\n      .append(\"g\")\n      .attr(\"class\", \"remove\")\n      // .style(\"transform\", `translateY(${dimensions.height*thisScale.yPos}px)`)\n      .call(yAxis)\n      .raise()\n      .call(g => g.select(\".domain\") //removes solid black axis bar\n        .remove())\n      .call(g => g.selectAll(\".tick line\") //styles individual ticks\n        .attr(\"stroke-opacity\", 0.5))\n      .call(g => g.selectAll(\".tick text\")\n        .attr(\"y\", 10) //TODO: dynamic tick text spacing for accessibility\n        .attr(\"opacity\", 0.5));\n\n    if (!scales.y[activeScale[1]].hideLabels) {\n      svg\n        .append(\"text\")\n        .text(`${activeScale[1]} (${scales.y[activeScale[1]].units})`)\n        .attr(\"class\", \"axisLabel smallTxt remove\")\n        // .attr(\"x\", dimensions.width/2)\n        // .attr(\"y\", dimensions.height/2)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", `translate(-30,${dimensions.height/2})rotate(-90)`)\n        .attr(\"opacity\", 0.5);\n    }\n\n    //--drag behavior--//\n    const dragged = drag()\n      // .on(\"start\", e => {\n      //   select(this).attr(\"stroke\", \"black\");\n      // })\n      .on(\"drag\", e => {\n        //TODO: extract precision function to round new pos\n        const dx = xDrag(xScales[e.subject[1].scale[0]].scale)(e.dx);\n        // const dx = xScales.scaleInverse\n        const dy = yScaleInverseDrag(e.dy);\n        const newInstants = {...data}; //always make a copy when updating array\n\n        //find array element in data with matching ID and set new x y coordinates\n        newInstants[e.subject[0]].x += dx;\n        newInstants[e.subject[0]].y += dy;\n\n        setData(newInstants);\n      }) //TODO: unify onEnd and onClick\n      .on(\"end\", e => {\n        console.log(\"end\");\n      });\n\n    if (activeData.length) {\n      //---draw intervals---//\n      const intervaler = linkHorizontal()\n        .source(interval => interval.source[1])\n        .target(interval => interval.target[1])\n        // .x(n => generateScales(scales[n.scale]).x(logic ? logicScale(n.x) : n.x))\n        .x(v => {\n            const thisScale = xScales[v.scale[0]]\n            if (!isNaN(v.x)) {\n              return thisScale.scale(v.x)\n            } else if (v.x===\"noEnd\") {\n              return thisScale.scale(thisScale.noEnd)\n            } else if (v.x===\"noBeginning\") {\n              return thisScale.scale(thisScale.noBeginning)\n            }\n        })\n        .y(v => yScale(v.y));\n\n      svg\n        .selectAll(\".interval\")\n        .data(intervals)\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"interval pointer\")\n        .attr(\"d\", intervaler)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", n => n.color? n.color : \"black\")\n        .attr(\"stroke-width\", n => n.width ? n.width : radius)\n        .attr(\"stroke-opacity\", n => n.opacity ? n.opacity : 1)\n        .attr(\"stroke-dasharray\", n => n.dashed ? n.dashed : null)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"connection\") {\n            const newOrder = [...syntacticOrder];\n            if (newOrder[2]===0) { //set 2nd selection\n              newOrder[1] = {x:xInverse(scales.x[activeScale[0]])(e.layerX), y:yScaleInverse(e.layerY), scale:activeScale}; //scale TODO\n              newOrder[2] = 1;\n            } else { //set 1st selection\n              newOrder[0] = {x:xInverse(scales.x[activeScale[0]])(e.layerX), y:yScaleInverse(e.layerY), scale:activeScale};\n              newOrder[2] = 0;\n            }\n            setSyntacticOrder(newOrder);\n          }\n          //else if (toggle===\"foreshadowing\") {\n          //   if (!target.target) { //if target is an endpoint, indeterminate end\n          //\n          //\n          //   } else { //otherwise, change mouse to no symbol\n          //\n          //   }\n          //   //option to adjust gradient eventually\n          // } else\n          else if (toggle===\"certainty\" || toggle===\"importance\") {\n            setInflectTarget(target);\n          } else {\n            setInfo(null); //clear InfoBox\n            setInfo({position: [e.x, e.y], target: target, type: \"interval\"}); //displays interval properties when clicked\n          }\n          e.stopPropagation();\n        });\n\n\n\n      //---draw instants---//\n      svg\n        .selectAll(\".instant\")\n        // .data(activeData.filter(d => !d.foreshadowing && !d.cancelled))\n        .data(activeData)\n        .join(\"circle\")\n        .raise()\n        .attr(\"class\", \"instant pointer\")\n        .attr(\"r\", ([,v]) => v.radius? v.radius : radius) //TODO: custom radius accessibility\n        .attr(\"fill\", ([,v]) => v.color ? v.color : \"black\") //if it has a color other than black, use that\n        .attr(\"opacity\", ([,v]) => v.opacity ? v.opacity : 1)\n        // .attr(\"cx\", d => generateScales(scales[d.scale]).x(logic ? logicScale(d.x) : d.x))\n        .attr(\"cx\", ([,v]) => {\n          const thisScale = xScales[v.scale[0]];\n          /*\n          noBeginning: thisScale.min-10,\n          noEnd: thisScale.max+10,\n          */\n          if (!isNaN(v.x)) {\n            return thisScale.scale(v.x)\n          } else if (v.x===\"noBeginning\"){\n            return thisScale.scale(thisScale.noBeginning)\n          } else if (v.x===\"noEnd\") {\n            return thisScale.scale(thisScale.noEnd)\n          }\n        }) //scale x coordinate based on xScale defined in instant's scale property\n        .attr(\"cy\", ([,v]) => yScale(v.y))\n        .call(dragged)\n        .on(\"click\", (e, target) => {\n          switch (toggle) {\n            case \"cancelled\":\n              const newData = {...data};\n              newData[target[0]].cancelled = true;\n              // console.log(newData[target[0]]);\n              updateSrc(newData);\n              break;\n            case \"connection\":\n              const newOrder = [...syntacticOrder];\n              if (newOrder[2]===0) { //set 2nd selection\n                newOrder[1] = target;\n                newOrder[2] = 1;\n              } else { //set 1st selection\n                newOrder[0] = target;\n                newOrder[2] = 0;\n              }\n              setSyntacticOrder(newOrder);\n              break;\n            case \"foreshadowing\":\n              if (!target.target) { //if target is an endpoint, indeterminate end\n                const newInstants = [...data];\n                const instant = newInstants.find(n => n.id === target.id);\n                instant.foreshadowing = true;\n                setData(newInstants);\n              } else { //otherwise, change mouse to no symbol\n                console.log(\"forbidden\");\n              }\n              break;\n            case \"certainty\":\n              setInflectTarget(target);\n              break;\n            case \"importance\":\n              setInflectTarget(target);\n              break;\n            default:\n              setInfo(null); //clear InfoBox\n              setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          }\n          // if (toggle===\"cancelled\") {\n          //   const newInstants = [...data];\n          //   const instant = newInstants.find(n => n.id === target.id);\n          //   instant.cancelled = true;\n          //   setData(newInstants);\n          // } else if (){\n          //\n          // } else if (toggle===\"connection\") {\n          //   const newOrder = [...syntacticOrder];\n          //   if (newOrder[2]===0) { //set 2nd selection\n          //     newOrder[1] = target;\n          //     newOrder[2] = 1;\n          //   } else { //set 1st selection\n          //     newOrder[0] = target;\n          //     newOrder[2] = 0;\n          //   }\n          //   setSyntacticOrder(newOrder);\n          // } else if (toggle===\"foreshadowing\") { //todo: adjust gradient\n          //   if (!target.target) { //if target is an endpoint, indeterminate end\n          //     const newInstants = [...data];\n          //     const instant = newInstants.find(n => n.id === target.id);\n          //     instant.foreshadowing = true;\n          //     setData(newInstants);\n          //   } else { //otherwise, change mouse to no symbol\n          //     console.log(\"forbidden\");\n          //   }\n          // } else if (toggle===\"certainty\" || toggle===\"importance\"){\n          //   setInflectTarget(target);\n          // } else {\n          //   setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          // }\n          e.stopPropagation(); //stops deselect when bg is clicked\n        });\n\n      /*//---draw inflections---//\n\n      //--draw connetion inflection--//\n      //circle around instant\n      svg\n        .selectAll(\".connections\")\n        .data(activeData.filter(d => d.connections))\n        .join(\"circle\")\n        .raise()\n        .attr(\"class\", \"connections pointer\")\n        .attr(\"r\", n => n.radius? n.radius*1.5 : radius*2) //TODO: custom radius accessibility\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-dasharray\", \"3\")\n        // .attr(\"opacity\", d => d.opacity ? d.opacity : 1)\n        .attr(\"cx\", d => xScales[d.scale].scale(d.x)) //scale x coordinate based on xScale defined in instant's scale property\n        .attr(\"cy\", d => yScale(d.y));\n\n      //link connecting circles\n      const ctLinker = linkHorizontal()\n        .source(instant => data.find(x => x.id === instant.id))\n        .target(instant => typeof(instant.connections[0])===\"object\" ? instant.connections[0] : data.find(x => x.id === instant.connections[0]))\n        // .target(() => {\n        //   //layerX, layerY\n        //   const y = yScaleInverse(499);\n        //   const x = xScales.find(n => n.text === \"biggie\").scaleInverse(778)\n        //   return {x: x, y: y}\n        // })\n        // .target(instant => data.find(x => x.id === instant.connections[0]))\n        .x(d => d.scale ? xScales[d.scale].scale(d.x) : d.x)\n        .y(d => d.scale ? yScale(d.y) : d.y);\n      svg\n        .selectAll(\".connectionLinks\")\n        .data(activeData.filter(n => n.connections && !n.connections[1])) //link starts from 1st one\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"connectionLinks pointer\")\n        .attr(\"d\", ctLinker)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"black\")\n        // .attr(\"stroke\", n => n.color? n.color : \"black\")\n        // .attr(\"stroke-opacity\", n => n.opacity ? n.opacity : 1)\n        .attr(\"stroke-dasharray\", \"3\")\n*/\n      //initialize custom symbols\n      const cancelledSymbol = {\n        draw: (context, size) => {\n          let s = Math.sqrt(size)/2;\n              context.moveTo(s,0);\n              context.lineTo(s*2,s);\n              context.lineTo(s,s*2);\n              context.lineTo(0,s);\n              context.lineTo(-s,s*2);\n              context.lineTo(-s*2,s);\n              context.lineTo(-s,0);\n              context.lineTo(-s*2,-s);\n              context.lineTo(-s,-s*2);\n              context.lineTo(0,-s);\n              context.lineTo(s,-s*2);\n              context.lineTo(s*2,-s);\n              context.closePath();\n        }\n      };\n      /*\n      //foreshadowing symbol\n      const fsSymbol = {\n        draw: (context, size) => {\n          let s = size;\n              context.moveTo(0,0);\n              context.lineTo(s*2,s/2);\n              context.lineTo(s*2,-s/2);\n              context.closePath();\n        }\n      };\n      //foreshadowing gradient\n      var fsg = svg.append(\"defs\").append(\"linearGradient\")\n      .attr(\"id\", \"fsgradient\")//id of the gradient\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"100%\") //since its a horizontal linear gradient\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"0%\");\n\n      fsg.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .style(\"stop-color\", \"black\")//start in black. TODO: different color foreshadowing\n      .style(\"stop-opacity\", 1);\n\n      fsg.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .style(\"stop-color\", \"black\")//end in transparent\n      .style(\"stop-opacity\", 0);\n*/\n      //---draw symbols---//\n      //TODO: doesn't display if cancelled is true from the start\n      // .attr(\"cx\", ([,v]) => xScales[v.scale[0]].scale(v.x)) //scale x coordinate based on xScale defined in instant's scale property\n      // .attr(\"cy\", ([,v]) => yScale(v.y))\n      svg\n        .selectAll(\".cancelled\")\n        .data(activeData.filter(([,v]) => v.cancelled))\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"cancelled pointer\")\n        .attr(\"d\", symbol(cancelledSymbol, radius*radius*5))\n        .attr(\"fill\", ([,v]) => v.color ? v.color : \"black\") //if it has a color other than black, use that\n        .attr(\"transform\", ([,v]) => `translate(${xScales[v.scale[0]].scale(v.x)}, ${yScale(v.y)})`)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"cancelled\") {\n            const newData = {...data};\n            newData[target[0]].cancelled = false;\n            updateSrc(newData);\n          } else {\n            setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          }\n          e.stopPropagation();\n        });\n/*\n      //---draw foreshadowing---//\n      svg\n        .selectAll(\".foreshadowing\")\n        .data(activeData.filter(d => d.foreshadowing))\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"foreshadowing pointer\")\n        .attr(\"d\", symbol(fsSymbol, radius*radius*5))\n        .style(\"fill\", \"url(#fsgradient)\")\n        .attr(\"transform\", d => `translate(${xScales[d.scale].scale(d.x)}, ${yScale(d.y)})`)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"foreshadowing\") {\n            const newInstants = [...data];\n            const instant = newInstants.find(n => n.id === target.id);\n            delete instant.foreshadowing;\n            setData(newInstants);\n          } else {\n            setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          }\n          setToggle(null);\n          e.stopPropagation();\n        });\n*/\n      //---draw labels---//\n      // svg\n      //   .selectAll(\".zoneLabel\")\n      //   .data(zones)\n      //   .join(\"text\")\n      //   .attr(\"class\", \"zoneLabel\")\n      //   .text(v => v.text)\n      //   .attr(\"x\", v => xScales[v.scale].scale(v.start))\n      //   .attr(\"y\", v => yScale(v.yStart?v.yStart:yMin+5))\n      //   .attr(\"text-anchor\", \"middle\");\n\n      svg\n        .selectAll(\".label\")\n        .data(activeData.filter(([,v]) => !isNaN(v.x)))\n        .join(\"text\")\n        .attr(\"class\", \"label\")\n        .text(([k,v]) => showLabel ? v.text : v.id)\n        .attr(\"x\", ([k,v]) => xScales[v.scale[0]].scale(v.x))\n        .attr(\"y\", ([k,v]) => yScale(v.y-0.05*rangeY)) //vertical offset. see scales\n        .attr(\"text-anchor\", \"middle\");\n        // .attr(\"font-size\", fontSize);\n\n      svg\n        .selectAll(\".intervalLabel\")\n        .data(intervals)\n        .join(\"text\")\n        .attr(\"class\", \"intervalLabel\")\n        .text(v => v.text)\n        .attr(\"x\", v => {\n          const source=v.source[1];\n          const target=v.target[1];\n          const thisSourceScale = xScales[source.scale[0]];\n          const thisTargetScale = xScales[target.scale[0]];\n          if (!isNaN(source.x) && !isNaN( target.x)) {\n            //scale values, then average them\n            return (thisSourceScale.scale(source.x)+thisTargetScale.scale(target.x))/2\n          } else if (isNaN(source.x)) { //if source is no end/beginning\n            //noEnd or noBeginning?\n            const s = source.x===\"noBeginning\"?thisSourceScale.scale(thisSourceScale.noBeginning):thisSourceScale.scale(thisSourceScale.noEnd)\n            return (s+thisTargetScale.scale(target.x))/2\n          } else if (isNaN(target.x)) { //if target is no end/beginning\n            const s = target.x===\"noBeginning\"?thisTargetScale.scale(thisTargetScale.noBeginning):thisTargetScale.scale(thisTargetScale.noEnd)\n            return (s+thisSourceScale.scale(source.x))/2\n          }\n        })\n        .attr(\"y\", v => yScale(Math.max(v.source[1].y, v.target[1].y)+0.05*rangeY)) //.05 above max y\n        .attr(\"text-anchor\", \"middle\");\n\n    }\n\n\n\n    //---zoom---//\n    const zoomBehavior = zoom()\n      .scaleExtent([1, 5]) //can zoom 2x smaller and 5x bigger\n      .translateExtent([[-50, 0], [dimensions.width+50, dimensions.height]]) //limits how far graph can pan\n      .on(\"zoom\", e => {\n        const zoomState = e.transform; //returns zoom transformations as an object\n        setCurrentZoomState(zoomState);\n      });\n\n    //regular clicking\n    svg.on(\"click\", (e) => {\n      if (toggle===\"addInstant\") {\n        /*\n        if range of zoom > 10, Math.round(x)\n        if range of zoom <= 10 (floor: 10^0, ceiling: 10^1), use tenths (/10 -> /10^1)\n        if range of zoom <= 1 (floor: 10^-1, ceiling: 10^0), use hudredths (/100 -> (10^2))\n        if range of zoom <= .1 (floor: 10^-2, ceiling: 10^-1), use thousandths (/1000 -> (10^-3), etc.\n        const decimal = scales[activeScale]\n        xScales[key].scale\n        const decimal = scales[activeScale]\n        */\n        //TODO: zoom range matches up with current zoom\n        const zoomRange = xScales[activeScale[0]].scale.domain()[1] - xScales[activeScale[0]].scale.domain()[0]; //max-min\n        // const precision = Math.log10(zoomRange)<1 ? -(Math.floor(Math.log10(zoomRange)-1)) : 0;\n        const x = xScales[activeScale[0]].scale.invert(e.layerX);\n        const y = yScale.invert(e.layerY);\n        // console.log(Math.round(x*Math.pow(10, precision))/ Math.pow(10, precision));\n        setInflectTarget({x: round(x, zoomRange), y: Math.round(y)});\n        setToggle(\"NewInstantForm\");\n      }\n      setInfo(null)\n    });\n    svg.call(zoomBehavior);\n\n  }, [data, setData, zones, activeZones, scales, toggle, activeLayer, activeData, dimensions, logic, currentZoomState, setInfo, radius, showLabel, syntacticOrder]);\n\n  return (\n    <div ref={wrapperRef} className=\"svgWrapper\">\n      <svg id=\"graphic\" ref={svgRef}>\n      </svg>\n    </div>\n  );\n};\n\n\nexport default Graphic;\n","const Image = (props) => {\n  //will have to change css so position is defined by React\n  return (\n    <img src={`/library/${props.urls}`} alt=\"schema-1\"/>\n  )\n};\n\nexport default Image;\n","const InputFormScale = ({scales, label, name, value, onChange}) => {\n  const list = Object.keys(scales).map((key, i) => {\n    return <option value={key} key={i}>{key}</option>\n  });\n\n  return (\n    <label className=\"textSecondary\">\n      {label}<span className=\"redText\">* </span>\n      <select name={name} value={value} onChange={onChange}>\n        {list}\n      </select>\n    </label>\n  )\n};\n\nexport default InputFormScale;\n","import React from 'react';\nimport InputFormScale from './InputFormScale';\n/*\n   UI and function for adding new points.\n*/\n\nclass NewInstantForm extends React.Component {\n  //controlled component, meaning React is the \"single source of truth\"\n  constructor(props) {\n    super(props);\n    this.state = {\n      label: '',\n      xValue: props.target.x, //\"target\" is scaled mouse click coordinates. Graphics.js addInstant\n      yValue: props.target.y,\n      xScale: props.activeScale[0],\n      yScale: props.activeScale[1],\n      color: '',\n      opacity: '',\n      radius: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n  }\n\n  handleChange(e) {\n    const value = e.target.value;\n    const name = e.target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleClose(e) {\n    this.props.setToggle(null);\n    e.preventDefault();\n  }\n\n  handleSubmit(e) { //consider turning into useCallback\n    e.preventDefault();\n    const newData = {...this.props.data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempx = parseFloat(this.state.xValue);\n    //if y pos specified, convert to float. otherwise, return null\n    const tempy = this.state.yValue ? parseFloat(this.state.yValue) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempx) && isNaN(tempy)) {\n      alert(\"Make sure Time and y Position are numbers!\");\n    } else if (isNaN(tempx)) {\n      alert(\"Make sure Time is a number!\");\n    } else if (isNaN(tempy)) {\n      alert(\"Make sure y Position is a number!\");\n    } else {\n      //generate instant\n      newData[`${lastKey+1}`] = {\n        \"x\":tempx,\n        \"y\": this.state.yValue ? tempy : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [this.state.xScale,this.state.yScale],\n        \"target\": null,\n        \"text\": this.state.label,\n        ...(this.state.color && {\"color\": this.state.color}), //if color is specified, create color entry in data\n        ...(this.state.radius && {\"radius\": this.state.radius}),\n        ...(this.state.opacity && {\"opacity\": this.state.opacity})\n      };\n    };\n\n    //order of parameters is important\n    this.props.updateSrc(newData);\n\n  }\n\n  render() {\n\n    return (\n      <form className=\"ui absolute center container\">\n        <label>\n          Label\n          <input type=\"text\"\n            name=\"label\"\n            placeholder=\"any unicode characters\"\n            value={this.state.label}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <InputFormScale\n          scales={this.props.scales.x}\n          label=\"X Scale\"\n          name=\"xScale\"\n          value={this.state.xScale}\n          onChange={this.handleChange}\n        /><br/>\n        <label>\n          Time<span className=\"redText\">* </span>\n          <input\n            type=\"number\"\n            name=\"xValue\"\n            placeholder=\"numbers only\"\n            value={this.state.xValue}\n            onChange={this.handleChange}\n            required\n          />\n        </label><br/>\n        <InputFormScale\n          scales={this.props.scales.y}\n          label=\"Y Scale\"\n          name=\"yScale\"\n          value={this.state.yScale}\n          onChange={this.handleChange}\n        /><br/>\n        <label>\n          y Position\n          <input\n            type=\"number\"\n            name=\"yValue\"\n            placeholder=\"#s only (default 0)\"\n            value={this.state.yValue}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Color\n          <input\n            type=\"text\"\n            name=\"color\"\n            placeholder=\"blue, #4DA6FF, etc.\"\n            value={this.state.color}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Opacity\n          <input\n            type=\"number\"\n            name=\"opacity\"\n            placeholder=\"1\"\n            value={this.state.opacity}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <label>\n          Radius\n          <input\n            type=\"number\"\n            name=\"radius\"\n            placeholder=\"5\"\n            value={this.state.radius}\n            onChange={this.handleChange}\n          />\n        </label><br/>\n        <br/>\n        <div className=\"flexCenter\">\n          <button className=\"buttonSecondary\" onClick={this.handleClose}>Cancel</button> &nbsp;\n          <button className=\"buttonSecondary\" onClick={this.handleSubmit}>Submit</button>\n        </div>\n      </form>\n    );\n  }\n};\n\nexport default NewInstantForm;\n","const InputFormText = ({label, name, placeholder, value, handleChange, required}) => {\n  return (\n    <label className=\"textSecondary\">\n      {label} {required && <span className=\"redText\">* </span>}\n      <input type=\"text\"\n        placeholder={placeholder?placeholder:\"any unicode characters\"}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        required={required}\n      />\n    </label>\n  );\n}\n\nexport default InputFormText;\n","const InputFormNum = ({label, name, value, placeholder, handleChange, required}) => {\n  return (\n    <label className=\"textSecondary\">\n      {label} {required && <span className=\"redText\">* </span>}\n      <input type=\"text\"\n        placeholder={placeholder?placeholder:\"Any real number\"}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        required={required}\n      />\n    </label>\n  );\n}\n\nexport default InputFormNum;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\nfunction NewIntervalForm({data, updateSrc, setToggle, scales, activeScale, history, setHistory}) {\n\n  const [values, setValues] = useState({\n    text: '',\n    xValue1:'',\n    yValue1:'',\n    xValue2:'',\n    yValue2:'',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    color:'',\n    opacity:'',\n    width:''\n  });\n\n  // const [text, setText] = useState(\"\");\n  // const [xValue1, setXValue1] = useState(\"\");\n  // const [yValue1, setYValue1] = useState(\"\");\n  // const [xValue2, setXValue2] = useState(\"\");\n  // const [yValue2, setYValue2] = useState(\"\");\n  // const [select, setSelect] = useState(activeScale);\n  // // const scalesList = Object.keys(scales).map((key, i) => {\n  // //   return <option value={key} key={i}>{key}</option>\n  // // });\n  // //optional parameters\n  // const [color, setColor] = useState(\"\");\n  // const [opacity, setOpacity] = useState(\"\");\n  // const [width, setWidth] = useState(\"\");\n  // const [dashed, setDashed] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newData = {...data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempX1 = parseFloat(values.xValue1);\n    const tempY1 = values.yValue1 ? parseFloat(values.yValue1) : null; //if y pos specified, convert to float. otherwise, return null\n    const tempX2 = parseFloat(values.xValue2);\n    const tempY2 = values.yValue2 ? parseFloat(values.yValue2) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempX1) || isNaN(tempY1) || isNaN(tempX2) || isNaN(tempY2)) {\n      alert(\"Make sure all Times and y Positions are numbers!\");\n    } else {\n      //generate first instant\n      newData[`${lastKey+1}`] = {\n        \"text\": \"\",\n        \"x\":tempX1,\n        \"y\": values.yValue1 ? tempY1 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": [`${lastKey+2}`],\n        ...(values.text && {\"intervalText\": values.text}),\n        ...(values.color && {\"intervalColor\": values.color}),\n        ...(values.width && {\"intervalWidth\": values.width}),\n        ...(values.opacity && {\"intervalOpacity\": values.opacity})\n      };\n      //generate second instant\n      newData[`${lastKey+2}`] = {\n        \"text\": \"\",\n        \"x\":tempX2,\n        \"y\": values.yValue2 ? tempY2 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": null\n      };\n    };\n\n    updateSrc(newData);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n/*\n<label>\n  Dashed\n  <input\n    type=\"text\"\n    placeholder=\"i.e: 5\"\n    value={dashed}\n    onChange={handleChange}\n  />\n</label><br/><br/>\n*/\n  return (\n    <form className=\"ui absolute center container\">\n      <label>\n        Label<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"text\"\n          placeholder=\"any unicode character\"\n          value={values.text}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={values.xSelect}\n        onChange={handleChange}\n      />\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      />\n      <b>Start:</b><br/>\n      <label>\n        Time<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"xValue1\"\n          placeholder=\"numbers only\"\n          value={values.xValue1}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        y Position\n        <input\n          type=\"text\"\n          name=\"yValue1\"\n          placeholder=\"#s only (default 0)\"\n          value={values.yValue1}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <b>End:</b><br/>\n      <label>\n        Time<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          name=\"xValue2\"\n          placeholder=\"numbers only\"\n          value={values.xValue2}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        y Position\n        <input\n          type=\"text\"\n          placeholder=\"#s only (default 0)\"\n          name=\"yValue2\"\n          value={values.yValue2}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <b>Properties:</b><br/>\n      <label>\n        Color\n        <input\n          type=\"text\"\n          placeholder=\"blue, #4DA6FF, etc.\"\n          name=\"color\"\n          value={values.color}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Width\n        <input\n          type=\"number\"\n          name=\"width\"\n          placeholder=\"1.67\"\n          value={values.width}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Certainty\n        <input\n          type=\"number\"\n          placeholder=\"0-1\"\n          name=\"opacity\"\n          value={values.opacity}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewIntervalForm;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction NewZoneForm({zones, updateSrc, setToggle, scales, activeScale}) {\n  const [values, setValues] = useState({\n    text: '',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    start:'',\n    end:'',\n    yValue2:'',\n    yStart:'',\n    yEnd:'',\n    color:'',\n    opacity:''\n  });\n\n  const [label, setLabel] = useState(\"\");\n  const [start, setStart] = useState(\"\");\n  const [end, setEnd] = useState(\"\");\n  const [select, setSelect] = useState(activeScale);\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  const scalesList = Object.keys(scales).map((key, i) => {\n    return <option value={key} key={i}>{key}</option>\n  });\n  //optional parameters\n  const [yStart, setYStart] = useState(\"\");\n  const [yEnd, setYEnd] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [opacity, setOpacity] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    const newZones = {...zones};\n    const lastKey = Object.keys(newZones).pop() ? parseInt(Object.keys(newZones).pop()) : -1;\n\n    //generate new zone\n    newZones[`${lastKey+1}`] = {\n      \"text\": values.text,\n      \"start\": parseFloat(values.start), //cases where start > end?\n      \"end\": parseFloat(values.end),\n      \"scale\": [values.xScale, values.yScale],\n      ...(values.yStart && {\"yStart\": values.yStart}),\n      ...(values.yEnd && {\"yEnd\": values.yEnd}),\n      ...(values.color && {\"color\": values.color}),\n      ...(values.opacity && {\"opacity\": values.opacity})\n    }\n\n    updateSrc(newZones,\"zones\");\n    e.preventDefault();\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n      <label>\n        Label<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"any unicode characters\"\n          name=\"text\"\n          value={values.text}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xScale\"\n        value={values.xScale}\n        onChange={handleChange}\n      /><br/>\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"yScale\"\n        value={values.yScale}\n        onChange={handleChange}\n      /><br/>\n      <label>\n        Time Start<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s, dates, logical operators\"\n          name=\"start\"\n          value={values.start}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <label>\n        Time End<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s, dates, logical operators\"\n          name=\"end\"\n          value={values.end}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      {/*<label>\n        Y Start\n        <input\n          type=\"text\"\n          name=\"yStart\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yStart}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Y End\n        <input\n          type=\"text\"\n          name=\"yEnd\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yEnd}\n          onChange={handleChange}\n        />\n      </label><br/>*/}\n      <label>\n        Color\n        <input\n          type=\"text\"\n          name=\"color\"\n          placeholder=\"blue, #4DA6FF, etc.\"\n          value={values.color}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <label>\n        Opacity\n        <input\n          type=\"number\"\n          placeholder=\"0 (transparent) - 1 (opaque)\"\n          name=\"opacity\"\n          value={values.opacity}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewZoneForm;\n","import React, { useState } from 'react';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new scales.\n   Eventually split into 2 different components: NewXScaleForm and NewYScaleForm\n*/\n\n\nfunction NewScaleForm({src, updateSrc, setToggle, setActiveScale}) {\n\n  //values for form, mutable by onChange\n  const [values, setValues] = useState({\n    //for x scale\n    xName:\"\",\n    xMin:\"\",\n    xMax:\"\",\n    xUnits:\"\",\n    xYPos:\"\",\n    xTickValues:\"\",\n    xHideUnits:false,\n    xSegmentsNum:0,\n    //for y scale\n    yName:\"\",\n    yMin:\"\",\n    yMax:\"\",\n    yUnits:\"\",\n    yPercent:\"\",\n    yHideUnits:false\n  });\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newScales = {...src.scales};\n\n    const tempxMin = parseFloat(values.xMin);\n    const tempxMax = parseFloat(values.xMax);\n    const tempYPos = parseFloat(values.xYPos); //for x scale\n    const tempyMin = parseFloat(values.yMin);\n    const tempyMax = parseFloat(values.yMax);\n\n    //error handling\n    if (isNaN(tempxMin) || isNaN(tempxMax) || isNaN(tempYPos) || isNaN(tempyMin) || isNaN(tempyMax)) {\n      alert(\"Make sure all numerical values are numbers!\");\n      return;\n    } else if (tempxMin>=tempxMax) {\n      alert(\"Minimum x Value must be less than or equal to Maximum x Value!\");\n      return;\n    } else if (tempyMin>=tempyMax) {\n      alert(\"Minimum y Value must be less than or equal to Maximum y Value!\");\n      return;\n    } else if (tempYPos>1) {\n      alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");\n      return;\n    } //else if (scale name already exists) {\n    //\n    // };\n\n    //generate new x scale\n    newScales.x[values.xName] = {\n      \"min\": tempxMin,\n      \"max\": tempxMax,\n      \"units\": values.xUnits,\n      \"yPos\": tempYPos,\n      // \"hideUnits\":values.xHideUnits,\n      \"segments\": [] //todo\n    }\n    newScales.y[values.yName] = {\n      \"min\": tempyMin,\n      \"max\": tempyMax,\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n      // \"hideUnits\":values.yHideUnits,\n    }\n\n    // console.log(newScales)\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xName, values.yName]); //move to updateSrc\n    setToggle(null);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  /*\n  <label className=\"textSecondary\">\n    Hide Label\n    <input type=\"checkbox\"\n      name=\"xHideUnits\"\n      value={values.xHideUnits}\n      onChange={(e) => setValues({...values, xHideUnits:e.target.checked})}\n    />\n  </label>\n  */\n  return (\n    <form className=\"ui absolute center container\">\n      <span className=\"textSecondary\"><b>x scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"xName\"\n        value={values.xName}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Screen Position\"\n        name=\"xYPos\"\n        placeholder=\"0 (bottom) - 1 (top)\"\n        value={values.xYPos}\n        handleChange={handleChange}\n        required={true}\n      />\n      <label className=\"textSecondary\">\n        Segments\n        <input\n          type=\"number\"\n          placeholder=\"granularities within scale\"\n          name=\"xSegmentsNum\"\n          value={values.xSegmentsNum}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <span className=\"textSecondary\"><b>y scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"yName\"\n        value={values.yName}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"yUnits\"\n        placeholder=\"ie: Years\"\n        value={values.yUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"yMin\"\n        placeholder=\"#s for now\"\n        value={values.yMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"yMax\"\n        placeholder=\"#s for now\"\n        value={values.yMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewScaleForm;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction EditScaleForm({scales, updateSrc, setToggle, activeScale, setActiveScale}) {\n  const xScale = scales.x[activeScale[0]];\n  const yScale = scales.y[activeScale[1]];\n\n  const [values, setValues] = useState({\n    //for x scale\n    xSelect:activeScale[0],\n    xMin:xScale.min,\n    xMax:xScale.max,\n    xUnits:xScale.units,\n    xYPos:xScale.yPos,\n    xTickValues:xScale.tickValues,\n    xHideUnits:xScale.hideUnits,\n    xSegmentsNum:xScale.segments.length,\n    //for y scale\n    ySelect:activeScale[1],\n    yMin:yScale.min,\n    yMax:yScale.max,\n    yUnits:yScale.units,\n    yPercent:yScale.percent,\n    yHideUnits:yScale.hideUnits\n  });\n\n\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  // const scalesList = Object.keys(scales.x).map((key, i) => {\n  //   return <option value={key} key={i}>{key}</option>\n  // });\n  // const [min, setMin] = useState();\n  // const [max, setMax] = useState();\n  // const [units, setUnits] = useState();\n  // const [yPos, setYPos] = useState();\n  // //optional parameters\n  // const [segmentsNum, setSegmentNum] = useState([]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSelectScale = (e, props) => {\n    e.preventDefault();\n    const newActiveScale = [...activeScale]\n    const { value, name } = e.target;\n    if (name===\"xSelect\") {\n      newActiveScale[0] = value\n    } else {\n      newActiveScale[1] = value\n    }\n\n    setActiveScale(newActiveScale)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newScales = {...scales};\n\n    const tempxMin = parseFloat(values.xMin);\n    const tempxMax = parseFloat(values.xMax);\n    const tempYPos = parseFloat(values.xYPos); //for x scale\n    const tempyMin = parseFloat(values.yMin);\n    const tempyMax = parseFloat(values.yMax);\n\n    //error handling\n    if (isNaN(tempxMin) || isNaN(tempxMax) || isNaN(tempYPos) || isNaN(tempyMin) || isNaN(tempyMax)) {\n      alert(\"Make sure all numerical values are numbers!\");\n      return;\n    } else if (tempxMin>=tempxMax) {\n      alert(\"Minimum x Value must be less than or equal to Maximum x Value!\");\n      return;\n    } else if (tempyMin>=tempyMax) {\n      alert(\"Minimum y Value must be less than or equal to Maximum y Value!\");\n      return;\n    } else if (tempYPos>1) {\n      alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");\n      return;\n    }\n\n    //update existing scale\n    newScales.x[values.xSelect] = {\n      \"min\": tempxMin,\n      \"max\": tempxMax,\n      \"units\": values.xUnits,\n      \"yPos\": tempYPos,\n      \"segments\": [...newScales.x[values.xSelect].segments] //todo\n    }\n\n    newScales.y[values.ySelect] = {\n      \"min\": tempyMin,\n      \"max\": tempyMax,\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n    }\n\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xSelect, values.ySelect]); //move to updateSrc\n    setToggle(null);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={activeScale[0]}\n        onChange={handleSelectScale}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        handleChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        handleChange={handleChange}\n        required={true}\n      />\n      <label className=\"textSecondary\">\n        Screen Position<span className=\"redText\">* </span>\n        <input\n          type=\"text\"\n          placeholder=\"0 (bottom) - 1 (top)\"\n          name=\"xYPos\"\n          value={values.xYPos}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Segments\n        <input\n          type=\"number\"\n          placeholder=\"granularities within scale\"\n          name=\"xSegmentsNum\"\n          value={values.xSegmentsNum}\n          onChange={handleChange}\n        />\n      </label><br/>\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      />\n      <label className=\"textSecondary\">\n        Minimum Value<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s for now\"\n          name=\"yMin\"\n          value={values.yMin}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Maximum Value<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"#s for now\"\n          name=\"yMax\"\n          value={values.yMax}\n          onChange={handleChange}\n          required\n        />\n      </label>\n      <label className=\"textSecondary\">\n        Units Label<span className=\"redText\">* </span>\n        <input type=\"text\"\n          placeholder=\"ie: Years\"\n          name=\"yUnits\"\n          value={values.yUnits}\n          onChange={handleChange}\n          required\n        />\n      </label><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default EditScaleForm;\n","/*\n  - delete an individual instant\n*/\n\nfunction deleteInstant(target, data, updateSrc) {\n  const newData = {...data};\n  // const dataKeys = Object.entries(newData).map(([k,v]) => k);\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\n\n  //comb thru data and delete all references to deleted instant\n  dataValues.forEach(v => {\n    if (!v.target || !v.target.includes(target[0])) {\n      return;\n    } else { //if v.target includes key\n      if (v.target.length > 1) { //if multiple, delete only key\n        v.target = v.target.filter((x) => x !== target[0]);\n      } else { //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n\n  delete newData[target[0]];\n  updateSrc(newData);\n};\n\nexport default deleteInstant;\n","/*\n  - delete an individual instant\n*/\n\nfunction deleteInterval(target, data, updateSrc) {\n  const newData = {...data};\n  const srcKey = target.source[0];\n  const targetKey = target.target[0];\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\n\n  //comb thru data and delete all references to deleted instant\n  dataValues.forEach(v => {\n    if (!v.target) {\n      return;\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\n      return;\n    } else { //if v.target includes key\n      if (v.target.length > 1) { //if multiple, delete only key\n        v.target = v.target.filter((x) => (x !== srcKey) && (x !== targetKey));\n      } else { //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n\n  delete newData[srcKey];\n  delete newData[targetKey];\n  updateSrc(newData);\n};\n\nexport default deleteInterval;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 17.54 17.54\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"working_layer\",\n    \"data-name\": \"working layer\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.4,3.06,14.48.15a.5.5,0,0,0-.71,0L1.14,12.78A.48.48,0,0,0,1,13L0,16.92a.48.48,0,0,0,.13.48.5.5,0,0,0,.35.14H.62l3.92-1a.59.59,0,0,0,.23-.13L17.4,3.77a.5.5,0,0,0,.14-.35A.52.52,0,0,0,17.4,3.06ZM4.16,15.6l-3,.75.76-3L12.47,2.86l2.21,2.21ZM15.39,4.36,13.18,2.15l1-.94,2.21,2.21Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.da55abfe.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { ReactComponent as IconEdit } from '../assets/icons/edit.svg';\n\nfunction EditForm(props) {\n\n  return (\n    props.editMode ?\n      <input\n        name={props.name}\n        type={props.inputType}\n        placeholder={props.placeholder}\n        value={props.value}\n        onChange={(e) => props.handleChange(e)}\n        required={props.required}\n      />\n    : props.value ?\n      <>{props.value}</>\n    : <span className=\"textSecondary\">{props.nullValue}</span>\n  )\n};\n\nexport default EditForm;\n","import deleteInstant from \"./deleteInstant\";\nimport deleteInterval from \"./deleteInterval\";\nimport EditForm from \"./EditForm\";\nimport React, { useState } from 'react';\n\n/*\n  - pass object info and mouseclick position to component\n  - component is a div set at mouseclick position and displays object info as text\n*/\n\nfunction InfoBox({info, setInfo, history, setHistory, data, zones, updateSrc, radius}) {\n  //init\n  var content = null;\n  const target = Array.isArray(info.target)?info.target[1]:info.target;\n  //TODO\n  const infoXPos = info.position[0];\n  const infoYPos = info.position[1];\n  /*\n    - structure of instant targets:\n      {\n        \"text\": \"Lorem\",\n        \"x\": 1620,\n        \"y\": 15,\n        \"target\": [\n            \"1\"\n        ],\n        \"color\": \"#4DA6FF\",\n        \"opacity\": 0.5,\n        \"radius\": 8,\n        \"intervalText\": \"evolution of terrestrial vegetation\",\n        \"intervalColor\": \"red\",\n        \"intervalWidth\": 5,\n        \"intervalOpacity\": 0.8,\n        \"intervalDashed\": \"5 2\",\n        \"layer\": 1,\n        \"scale\": \"smalls\"\n      }\n    - structure of interval targets:\n      {\n        \"source\": [\n            \"0\",\n            {\n                \"text\": \"Lorem\",\n                \"x\": 1620,\n                \"y\": 15,\n                .\n                .\n                .\n            }\n        ],\n        \"target\": [\n            \"1\",\n            {\n                \"text\": \"Ipsum\",\n                \"x\": 1623,\n                \"y\": 15,\n                .\n                .\n                .\n            }\n        ],\n        \"text\": \"evolution of terrestrial vegetation\",\n        \"color\": \"red\",\n        \"width\": 5,\n        \"opacity\": 0.8,\n        \"dashed\": \"5 2\"\n      }\n    - structure of zone targets:\n      {\n        \"id\": 1,\n        \"text\": \"zone2\",\n        \"start\": 1623,\n        \"end\": 1630,\n        \"yStart\": 10,\n        \"yEnd\": 30,\n        \"color\": \"green\",\n        \"opacity\": 0.25,\n        \"scale\": \"smalls\",\n        \"importance\": 2\n      }\n  */\n\n  //states\n  const [editMode, setEditMode] = useState(false);\n\n  //values directly from data, immutable by onChange\n  const dataValues = {\n    //instant specific\n    time: target.x,\n    yPos: target.y,\n    radius: target.radius,\n    //interval specific\n    sourceX: target.source?target.source[1].x:null,\n    sourceY: target.source?target.source[1].y:null,\n    targetX: target.source?target.target[1].x:null, //target.target for both instant and interval, but target.source interval only\n    targetY: target.source?target.target[1].y:null,\n    //zone specific\n    timeStart: target.start,\n    timeEnd: target.end,\n    yStart: target.yStart,\n    yEnd: target.yEnd,\n    //all\n    text: target.text,\n    color: target.color,\n    opacity: target.opacity,\n    width: target.width,\n    importance: target.importance\n  };\n\n  //turn null values into empty string for controlled input forms\n  Object.entries(dataValues).forEach((k) => {\n    if (!k[1]) { //check for null value\n      dataValues[k[0]] = \"\";\n    }\n  });\n\n  //values for input forms, mutable\n  const [values, setValues] = useState(dataValues);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    //reset all values to json data version\n    setValues(dataValues);\n    setEditMode(false);\n  }\n\n  const handleSubmitInstant = (e) => {\n    e.preventDefault();\n    const newData = {...data};\n    const xyArray = [values.time, values.yPos];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n      }\n    );\n\n    newData[info.target[0]] = {\n      ...newData[info.target[0]],\n      \"x\": xyNums[0],\n      \"y\": xyNums[1],\n      \"text\": values.text,\n      \"color\": values.color, //if color is specified, create color entry in data\n      \"radius\": values.radius,\n      \"opacity\": values.opacity,\n      \"importance\": values.importance\n    };\n\n    updateSrc(newData);\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleSubmitInterval = (e) => {\n    e.preventDefault();\n    const newData = {...data};\n    const xyArray = [values.sourceX, values.sourceY, values.targetX, values.targetY];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n      });\n\n    const node = newData[target.source[0]];\n    node.x = xyNums[0];\n    node.y = xyNums[1];\n    newData[target.target[0]].x = xyNums[2];\n    newData[target.target[0]].y = xyNums[3];\n    node.intervalColor = values.color;\n    node.intervalWidth = values.width;\n    node.intervalOpacity = values.opacity;\n    node.intervalText = values.text;\n\n    updateSrc(newData);\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleSubmitZone = (e) => {\n    e.preventDefault();\n\n    const newZones = {...zones};\n    const xyArray = [values.timeStart, values.timeEnd];\n    // const xyArray = [values.timeStart, values.timeEnd, values.yStart, values.yEnd];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n    });\n\n\n    newZones[info.target[0]] = {\n      ...newZones[info.target[0]],\n      \"start\": xyNums[0],\n      \"end\": xyNums[1],\n      \"yStart\": xyNums[2],\n      \"yEnd\": xyNums[3],\n      \"text\": values.text,\n      \"color\": values.color,\n      \"opacity\": values.opacity,\n      \"importance\": values.importance\n    };\n\nconsole.log(newZones[info.target[0]]);\n\n    updateSrc(newZones, \"zones\");\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleDeleteInterval = (e) => {\n    e.preventDefault();\n    deleteInterval(target, data, updateSrc);\n    setInfo(null);\n  }\n\n  const handleDeleteInstant = (e) => {\n    e.preventDefault();\n    deleteInstant(info.target, data, updateSrc);\n    setInfo(null);\n  }\n\n  const handleDeleteZone = (e) => {\n    e.preventDefault();\n    const newZones = {...zones};\n    delete newZones[info.target[0]];\n    //won't delete if there is only 1 zone left\n    updateSrc(newZones, \"zones\");\n    setInfo(null);\n  }\n\n  switch (info.type) {\n    case 'interval':\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              From: &nbsp;<br/>\n              To: &nbsp;<br/>\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Importance: &nbsp;<br/>\n              Width: &nbsp;\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"sourceX\" value={values.sourceX} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/>,&nbsp;\n              <EditForm name=\"sourceY\" value={values.sourceY} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"targetX\" value={values.targetX} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/>,&nbsp;\n              <EditForm name=\"targetY\" value={values.targetY} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"width\" value={values.width} nullValue={`${radius}`} inputType=\"text\" placeholder=\"any real number\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitInterval}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteInterval}>Delete Interval</button></>\n            }\n          </div>\n        </form>\n    break\n    case 'zone':\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              Time Start: &nbsp;<br/>\n              Time End: &nbsp;<br/>\n              {/*Y Start: &nbsp;<br/>\n              Y End: &nbsp;<br/>*/}\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Importance: &nbsp;\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"timeStart\" value={values.timeStart} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"timeEnd\" value={values.timeEnd} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              {/*<EditForm name=\"yStart\" value={values.yStart} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"yEnd\" value={values.yEnd} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>*/}\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitZone}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteZone}>Delete Zone</button></>\n            }\n          </div>\n        </form>\n    break\n    default:\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              Time: &nbsp;<br/>\n              Y Position: &nbsp;<br/>\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Radius: &nbsp;<br/>\n              Importance: &nbsp;<br/>\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"time\" value={values.time} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"yPos\" value={values.yPos} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"radius\" value={values.radius} nullValue={`${radius}`} inputType=\"text\" placeholder=\"any real number\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitInstant}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteInstant}>Delete Instant</button></>\n            }\n          </div>\n        </form>\n  };\n\n  return (\n    <div className=\"ui absolute\" style={{left: info.position[0] + 'px', top: info.position[1] + 'px'}}>\n      {content}\n    </div>\n  );\n}\n\nexport default InfoBox;\n","import React, { useState } from 'react';\n\n/*\n  For saving and downloading JSON data onto computer.\n*/\n\nfunction ExportDataForm({src, setSrc, zones, scales, data, activeData, setToggle, fileName}) {\n  const [name, setName] = useState(fileName);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    //syncs changes in nodes data with src\n    const newSrc = {...src};\n    newSrc.instants[activeData] = data; //TODO: update src every time change activeData\n    newSrc.zones = zones;\n    newSrc.scales = scales;\n    setSrc(newSrc);\n    \n    //saves synced src as a file\n    const fileData = JSON.stringify(newSrc);\n    const blob = new Blob([fileData], {type: \"text/plain\"});\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.download = `${name}.json`;\n    link.href = url;\n    link.click();\n  };\n\n  const handleClose = (e) => {\n    e.preventDefault();\n    setToggle(null);\n\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSave}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <label>\n        File Name <span className=\"redText\">* </span>:\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n      </label><br/><br/>\n      <input type=\"submit\" value=\"Save Data\"/>\n    </form>\n  );\n}\n\nexport default ExportDataForm;\n","import React, { useState } from 'react';\n\n/*\n  For saving and downloading JSON data onto computer.\n*/\n\nfunction ImportDataForm({setToggle, updateSrc, setFileName, setProj}) {\n  const [selectedFile, setSelectedFile] = useState();\n\tconst [isSelected, setIsSelected] = useState(false);\n\n\tconst handleChange = (e) => {\n\t\tsetSelectedFile(e.target.files[0]);\n\t\tsetIsSelected(true);\n    e.preventDefault();\n\t};\n\n\tconst handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!selectedFile) {\n      alert(\"Please select a file!\");\n      return;\n    }\n    let fileReader = new FileReader();\n    fileReader.readAsText(selectedFile);\n    fileReader.onload = () => {\n      const newSrc = JSON.parse(fileReader.result);\n      //add different cases for JSON and img\n      setFileName(selectedFile.name.replace(\".json\", \"\")); //chop off .json extension from name\n      // console.log(newSrc);\n      updateSrc(newSrc, \"import\")\n      // setSrc(newSrc);\n      // setScales(newSrc.scales);\n      // setActiveScale([Object.keys(newSrc.scales.x)[0],Object.keys(newSrc.scales.y)[0]]);\n      // setActiveData(0);\n      // setData(newSrc.instants[activeData]);\n      // setZones(newSrc.zones);\n    }\n    fileReader.onerror = () => {\n      console.log(fileReader.error);\n    }\n    setProj(true);\n    setToggle(null);\n\n\t};\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form\n      className=\"ui absolute center\"\n      onSubmit={handleSubmit}\n    >\n      <button className=\"right uiButton closeButton\" onClick={handleClose}>x</button><br/>\n      <input type=\"file\" name=\"data\" onChange={handleChange} /><br/>\n\t\t\t{isSelected ? (\n\t\t\t\t<p>\n\t\t\t\t\tFile name: {selectedFile.name}<br/>\n\t\t\t\t\tFile type: {selectedFile.type}<br/>\n\t\t\t\t\tSize: {selectedFile.size/1000} KB\n\t\t\t\t</p>\n\t\t\t) : (\n\t\t\t\t<p>Select a file to show details</p>\n\t\t\t)}\n\t\t\t<input className=\"uiButton\" type=\"submit\" value=\"Upload\"/>\n    </form>\n  );\n}\n\nexport default ImportDataForm;\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.46,31.33h-14a1,1,0,0,1-1-1V12.59a1,1,0,0,1,1-1h8.3l.12,0h0a1,1,0,0,1,.45.28h0l5.87,6.55h0a1.1,1.1,0,0,1,.23.44h0s0,.09,0,.14h0V30.33A1,1,0,0,1,28.46,31.33Zm-13-2h12V20.14H22.58a1,1,0,0,1-1-1V13.59H15.45Zm8.13-11.19h2.64L23.58,15.2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.88f2208b.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInstant(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 21.46,\n    cy: 21.46,\n    r: 2.97\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstant);\nexport default __webpack_public_path__ + \"static/media/instant.f426ea0a.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInterval(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.88,22.46H11a1,1,0,0,1,0-2H31.88a1,1,0,1,1,0,2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInterval);\nexport default __webpack_public_path__ + \"static/media/interval.4fc48755.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgZone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M32.75,11.83H10.17a1,1,0,0,0-1,1V30.08a1,1,0,0,0,1,1H32.75a1,1,0,0,0,1-1V12.83A1,1,0,0,0,32.75,11.83Zm-7,17.25,6-7v2.57L28,29.08Zm-4.85,0L31.75,16.49v2.56l-8.63,10Zm-4.84,0L29.19,13.83h2.2L18.28,29.08Zm-4.84,0L24.35,13.83h2.2L13.43,29.08Zm5.63-15.25-5.69,6.63V17.9l3.49-4.07Zm-5.69,9.7,8.33-9.7h2.21L11.17,26.09Zm.85-9.7-.85,1v-1ZM30.6,29.08l1.15-1.34v1.34Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgZone);\nexport default __webpack_public_path__ + \"static/media/zone.c8425191.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMenu(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.27,16.77H28.64a1,1,0,0,0,0-2H14.27a1,1,0,0,0,0,2Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.64,20.27H14.27a1,1,0,0,0,0,2H28.64a1,1,0,0,0,0-2Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.64,25.78H14.27a1,1,0,1,0,0,2H28.64a1,1,0,0,0,0-2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenu);\nexport default __webpack_public_path__ + \"static/media/menu.0cdb3b9d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPan(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.89,31.63H18.46a2.73,2.73,0,0,1-2.3-1l-.26-.34-.85-1.08c-2.16-2.74-4-5.1-2.78-6.7a2.33,2.33,0,0,1,1.86-1h0a3.44,3.44,0,0,1,2.17,1V15.35a2.52,2.52,0,0,1,2.59-2.43,2.74,2.74,0,0,1,.7.09,2.57,2.57,0,0,1,2.47-1.73,2.68,2.68,0,0,1,2,.86,2.68,2.68,0,0,1,1.2-.28,2.56,2.56,0,0,1,2.53,1.91,3,3,0,0,1,.68-.08A2.52,2.52,0,0,1,31,16.12V28.66A3.07,3.07,0,0,1,27.89,31.63Zm-13.76-8.1c-.09,0-.22.17-.28.24-.1.6,1.77,3,2.77,4.22l.87,1.11.26.34c.06.09.29.19.71.19h9.43a1.08,1.08,0,0,0,1.15-1V16.12c0-.23-.27-.43-.59-.43s-.59.2-.59.43v5a1,1,0,0,1-1,1,1,1,0,0,1-1-1V14.29c0-.23-.27-.43-.59-.43s-.58.2-.58.43v6.82a1,1,0,0,1-2,0V13.72c0-.24-.27-.44-.59-.44s-.59.2-.59.44v7.39a1,1,0,0,1-2,0V15.35c0-.23-.26-.43-.58-.43s-.59.2-.59.43V24.8a.57.57,0,0,1,0,.13v.2a1,1,0,0,1-1.79.61c-1.62-2.1-2.28-2.2-2.4-2.21Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPan);\nexport default __webpack_public_path__ + \"static/media/pan.fce3e1c8.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgScales(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,11,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.25,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,16.25,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.67,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,26.67,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.46,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,21.46,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.88,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,31.88,23.81Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgScales);\nexport default __webpack_public_path__ + \"static/media/scales.a562521d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgViews(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.91,21.11a12.69,12.69,0,0,0-10.45-5.73A12.7,12.7,0,0,0,11,21.11a1,1,0,0,0,0,1,12.67,12.67,0,0,0,10.46,5.73,12.67,12.67,0,0,0,10.45-5.73A1,1,0,0,0,31.91,21.11ZM21.46,25a3.36,3.36,0,1,1,3.36-3.36A3.36,3.36,0,0,1,21.46,25Zm-8.39-3.36a11.22,11.22,0,0,1,4.26-3.38,5.25,5.25,0,0,0,0,6.75A11.31,11.31,0,0,1,13.07,21.63ZM25.6,25a5.29,5.29,0,0,0,1.22-3.35,5.36,5.36,0,0,0-1.23-3.38,11.29,11.29,0,0,1,4.24,3.37A11.23,11.23,0,0,1,25.6,25Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgViews);\nexport default __webpack_public_path__ + \"static/media/views.8817cc22.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgConnection1(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12.18,\n    cy: 21.46,\n    r: 2.97\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.74,20.49a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.74,16.7a1,1,0,0,1-.74-.32A9.47,9.47,0,0,0,28.26,15,1,1,0,0,1,28,13.62a1,1,0,0,1,1.38-.31A11.87,11.87,0,0,1,31.48,15a1,1,0,0,1-.07,1.41A1,1,0,0,1,30.74,16.7Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M25.21,13.56a1.26,1.26,0,0,1-.27,0,12.23,12.23,0,0,0-1.82-.37A1,1,0,0,1,22.26,12a1,1,0,0,1,1.12-.86,15,15,0,0,1,2.1.42,1,1,0,0,1,.69,1.24A1,1,0,0,1,25.21,13.56Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.7,13.56a1,1,0,0,1-.27-2,15.15,15.15,0,0,1,2.11-.42,1,1,0,1,1,.25,2,12.77,12.77,0,0,0-1.82.37A1.26,1.26,0,0,1,17.7,13.56Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.18,16.7a1,1,0,0,1-.68-.26A1,1,0,0,1,11.44,15a11.15,11.15,0,0,1,2.14-1.72,1,1,0,0,1,1.38.31A1,1,0,0,1,14.65,15a9.94,9.94,0,0,0-1.74,1.38A1,1,0,0,1,12.18,16.7Z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgConnection1);\nexport default __webpack_public_path__ + \"static/media/connection1.f02e0c1d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCausation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 50,\n    height: 50\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 15.72,\n    cy: 28.03,\n    r: 2.97\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34.28,27.06a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.75,20.13a.84.84,0,0,1-.27,0,13.82,13.82,0,0,0-1.81-.37,1,1,0,1,1,.25-2,13.48,13.48,0,0,1,2.1.43,1,1,0,0,1,.7,1.23A1,1,0,0,1,28.75,20.13Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.25,20.13a1,1,0,0,1-1-.73,1,1,0,0,1,.7-1.23,13.48,13.48,0,0,1,2.1-.43,1,1,0,1,1,.25,2,12.36,12.36,0,0,0-1.81.37A.84.84,0,0,1,21.25,20.13Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.72,23.27a1,1,0,0,1-.67-.26A1,1,0,0,1,15,21.6a11.36,11.36,0,0,1,2.14-1.71,1,1,0,0,1,1.38.3,1,1,0,0,1-.3,1.39A9.28,9.28,0,0,0,16.46,23,1,1,0,0,1,15.72,23.27Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34,19.11a.24.24,0,0,0-.28,0l-2.64,2.39a.27.27,0,0,0-.07.27.25.25,0,0,0,.21.17l2.5.27h0a.28.28,0,0,0,.16-.06A.31.31,0,0,0,34,22l.14-2.67A.25.25,0,0,0,34,19.11Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCausation);\nexport default __webpack_public_path__ + \"static/media/causation.69c429dd.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { ReactComponent as IconFile } from '../assets/icons/file.svg';\nimport { ReactComponent as IconInstant } from '../assets/icons/instant.svg';\nimport { ReactComponent as IconInterval } from '../assets/icons/interval.svg';\nimport { ReactComponent as IconZone } from '../assets/icons/zone.svg';\nimport { ReactComponent as IconMenu } from '../assets/icons/menu.svg';\nimport { ReactComponent as IconPan } from '../assets/icons/pan.svg';\nimport { ReactComponent as IconScales } from '../assets/icons/scales.svg';\nimport { ReactComponent as IconViews } from '../assets/icons/views.svg';\nimport { ReactComponent as IconConnection } from '../assets/icons/connection1.svg';\nimport { ReactComponent as IconCausation } from '../assets/icons/causation.svg';\nimport { ReactComponent as IconEdit } from '../assets/icons/edit.svg';\nimport EditForm from './EditForm';\n//AKA the navbar, holds all the tools, settings, and whatnot on the top of the page\n\nfunction EditButton({editMode}) {\n  return (\n    <>\n      {editMode?\n        <button className=\"buttonSecondary\">submit</button>\n        : <button className=\"editButton\"><IconEdit className=\"editIcon\"/></button>\n      }\n    </>\n  )\n}\n\nfunction NavBar(props) {\n  // console.log(props.hasScales)\n  // const [content, props.setNav] = useState(null);\n  const [iconTempObj, setIconTempObj] = useState(<IconInterval className=\"icon\" alt=\"interval\"/>);\n  // const [name, setName] = useState(props.fileName); //TODO: add promise?\n  const [editMode, setEditMode] = useState(false);\n\n  const handleClick = (ref, e) => {\n    e ? e.preventDefault(): ref.preventDefault();\n    props.setNav(ref);\n    if (props.toggle && props.toggle===ref) { //if user toggles tool that is already active, deactivate tool\n      props.setToggle(null);\n      props.setNav(null);\n    } else if (ref===\"newProj\") {\n      const confirm = window.confirm(\"Are you sure you want to begin a new project?\")\n      if (confirm) window.location.reload();\n    } else if (ref===\"about\") {\n      window.open(\"https://docs.google.com/document/d/1QgYcAYyawUQpgWIHhZpVytLEUvqQ3-6U/edit?usp=sharing&ouid=116007712725124035967&rtpof=true&sd=true\");\n    } else if (ref===\"tutorial\") {\n      window.open(\"https://youtu.be/y0sMNCfgH-8\");\n    } else if (ref===\"documentation\") {\n      window.open(\"https://github.com/huegor/chronovis-paintbox\");\n    } else { //otherwise, activate tool\n      props.setToggle(ref);\n    }\n  }\n\n  // const handleSetName = (e) => {\n  //   e.preventDefault();\n  //   if (editMode) {\n  //     props.setFileName(name);\n  //     setEditMode(false);\n  //   } else {\n  //     setEditMode(true);\n  //   }\n  // }\n\n  //TODO: fix file name not displaying\n  /*\n  {name &&\n    <form className=\"container flexRow flexCenter\" onSubmit={(e) => setEditMode(true?false:true)}>\n      <EditForm name=\"name\" value={props.fileName} nullValue={\"Untitled\"} inputType=\"text\" placeholder=\"insert file name\" editMode={editMode} handleChange={(e) => props.setFileName(e.target.value)} /><br/>\n      <EditButton editMode={editMode}/>\n    </form>\n  }\n  */\n\n  //todo: break up into components\n  return (\n    <>\n      <nav className=\"container flexRow fullWidth containerSpace\">\n        <div className=\"container flexRow containerLeft\">\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"temporalObject\", e)} disabled={!props.hasScales} className={`${props.toggle===\"addInstant\" ? \"toolActive\" : \"\"}`} title=\"Temporal Objects\">{iconTempObj}</button>\n            {props.nav===\"temporalObject\" && <ul className=\"dropdown-content\">\n              <li><button onClick={(e) => {handleClick(\"addInterval\", e); setIconTempObj(<IconInterval className=\"icon\" alt=\"Interval\"/>)}} title=\"Interval\"><IconInterval alt=\"Interval\"/>Interval</button></li>\n              <li><button onClick={(e) => {handleClick(\"addInstant\", e); setIconTempObj(<IconInstant className=\"icon\" alt=\"Instant\"/>)}} title=\"Instant\"><IconInstant alt=\"Instant\"/>Instant</button></li>\n              <li><button  onClick={(e) => {handleClick(\"addZone\", e); setIconTempObj(<IconZone className=\"icon\" alt=\"Zone\"/>)}} title=\"Zone\"><IconZone alt=\"Zone\"/>Zone</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"inflections\", e)} disabled={true/*!props.hasScales*/} title=\"Inflections\"><IconConnection className=\"icon\" alt=\"Cancelled\"/></button>\n            {props.nav===\"inflections\" && <ul className=\"dropdown-content  \">\n              <li className=\"subheading\">Semantic</li>\n              <li><button onClick={(e) => handleClick(\"importance\", e)}>Importance</button></li>\n              <li><button onClick={(e) => handleClick(\"certainty\", e)}>Certainty</button></li>\n              <li><button onClick={(e) => handleClick(\"cancelled\", e)}>Cancelled</button></li>\n              <li><button onClick={(e) => handleClick(\"foreshadowing\", e)}>Foreshadowing</button></li>\n              <li className=\"subheading\">Syntactic</li>\n              <li><button onClick={(e) => handleClick(\"connection\", e)}>Connection</button></li>\n              <li><button>Causality</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"scales\", e)} disabled={!props.proj} title=\"Scales\"><IconScales className=\"icon\" alt=\"Scales\"/></button>\n            {props.nav===\"scales\" && <ul className=\"dropdown-content  \">\n              <li><button onClick={(e) => handleClick(\"editScale\", e)} disabled={!props.hasScales} title=\"Edit Scale\">Edit Scale</button></li>\n              <li><button onClick={(e) => handleClick(\"addScale\", e)} title=\"Create Scale\">Create Scale</button></li>\n              {/*<li><button disabled={!props.hasScales} title=\"Expand Scale\">Expand Scale</button></li>*/}\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button className=\"fullWidth\" onClick={(e) => handleClick(\"file\", e)} disabled={!props.proj} title=\"File\"><IconFile className=\"icon\" alt=\"File\"/></button>\n            {props.nav===\"file\" && <ul className=\"dropdown-content  \">\n              <li className=\"subheading\">Edit</li>\n              <li><button onClick={props.undo}>Undo (BETA)</button></li>\n              <li><button onClick={(e) => handleClick(\"redo\", e)} disabled>Redo</button></li>\n              <li className=\"subheading\">Document</li>\n              <li><button onClick={(e) => handleClick(\"save\", e)}>Save & Export</button></li>\n              <li><button onClick={(e) => handleClick(\"import\", e)}>Import Data</button></li>\n              <li><button onClick={(e) => handleClick(\"dataLibrary\", e)}>Import from Library</button></li>\n              <li><button id=\"importImg\" disabled>Import Image</button></li>\n              <li><button onClick={(e) => handleClick(\"newProj\", e)}>New Project</button></li>\n            </ul>}\n          </div>\n        </div>\n        {props.proj &&\n          <form className=\"container flexRow flexCenter\" onSubmit={(e) => {e.preventDefault(); setEditMode(editMode?false:true)}}>\n            <EditForm name=\"name\" value={props.fileName} nullValue={\"Untitled\"} inputType=\"text\" placeholder=\"insert file name\" editMode={editMode} handleChange={(e) => props.setFileName(e.target.value)} required={true}/><br/>\n            <EditButton editMode={editMode}/>\n          </form>\n        }\n        <div className=\"right container flexRow containerRight\">\n          <button className=\"right\" onClick={(e) => handleClick(\"pan\", e)} disabled={!props.hasScales} title=\"Pan\"><IconPan className=\"icon\" alt=\"Pan\"/></button>\n          <div className=\"dropdown right\">\n            <button onClick={(e) => handleClick(\"views\", e)} disabled={true/*!props.hasScales*/} title=\"Views\"><IconViews className=\"icon\" alt=\"Views\"/></button>\n            {props.nav===\"views\" && <ul className=\"dropdown-content rightPos\">\n              <li className=\"subheading\">Graphics</li>\n              <li><button>Working Data</button></li>\n              <li><button onClick={(e) => handleClick(\"scrubber\", e)}>Scrubber</button></li>\n              <li><button>Empirical/Relative Scales</button></li>\n              <li><button onClick={(e) => handleClick(\"layers\", e)}>Layers</button></li>\n              <li className=\"subheading\">UI</li>\n              <li><button onClick={(e) => handleClick(\"showLabel\", e)}>{props.showLabel ? \"Show IDs\" : \"Show Labels\"}</button></li>\n              <li><button onClick={(e) => handleClick(\"legend\", e)}>Legend</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown right\">\n            <button onClick={(e) => handleClick(\"menu\", e)} title=\"Menu\"><IconMenu className=\"icon\" alt=\"Menu\"/></button>\n            {props.nav===\"menu\" && <ul className=\"dropdown-content rightPos\">\n              <li className=\"subheading\">Settings</li>\n              <li><button id=\"acessibility\" disabled>Accessibility</button></li>\n              <li><button id=\"theme\" disabled>Theme</button></li>\n              <li className=\"subheading\">ChronoVis: Paintbox</li>\n              <li><button onClick={(e) => handleClick(\"about\", e)}>About</button></li>\n              <li><button onClick={(e) => handleClick(\"tutorial\", e)}>Tutorial</button></li>\n              <li><button onClick={(e) => handleClick(\"documentation\", e)}>Documentation</button></li>\n            </ul>}\n          </div>\n        </div>\n      </nav>\n      {/*props.toggle && <div className=\"debugging\">Currently active: {props.toggle}</div>*/}\n    </>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\n\n/*\n  Layer creation and toggling.\n*/\n\nfunction Layers({activeLayer, setActiveLayer, data}){\n\n  const handleClick = (e) => {\n    const parent = e.target.parentNode;\n    setActiveLayer(parseInt(parent.id));\n\n    e.preventDefault();\n  }\n\n  //extract layer from each node, then put unique entries into an array and sort\n  const orderedLayers = [...new Set(data.map(({layer}) => layer))].sort((a, b) => {return a-b});\n  //create selection entry for all layers !== 0\n  const layers = orderedLayers.filter(number => number !== 0).map((number) =>\n    <li key={number} id={number}> Layer {number} <button onClick={handleClick}>Select</button></li>\n  );\n\n  return (\n    <div className=\"ui absolute dropdown rightPos\">\n      Layers\n      <ul>\n        <li>All layers <button onClick={handleClick}>Select</button></li>\n        {layers}\n      </ul>\n    </div>\n  )\n};\n\nexport default Layers;\n","import React, { useState, useEffect, useRef } from 'react';\n// import { select, drag, axisBottom, scalePoint } from \"d3\";\n\nfunction Scrubber({activeData, setActiveData, src, setData}) {\n\n  const handleClick = (e) => {\n    if (e.target.id === \"foward\") {\n      setActiveData(activeData += 1);\n    } else {\n      setActiveData(activeData -= 1);\n    }\n    setData(src.instants[activeData]);\n  }\n\n  // //initialize reference object to pass to svg in React Dom\n  // const svgRef = useRef();\n  //\n  // useEffect(() => {\n  //   const svg = select(svgRef.current);\n  //\n  //   const dragged = drag()\n  //     .on(\"drag\", e => {\n  //       console.log(activeData);\n  //       // if ((e.dx > 0) && (activeData>src.nodes.length-1 )) {\n  //       //   setActiveData(activeData += 1);\n  //       // } else if (activeData<0) {\n  //       //   setActiveData(activeData -= 1);\n  //       // }\n  //       // console.log(activeData);\n  //     });\n  //\n  //   const scale = scalePoint()\n  //     .domain(src.nodes.map((n) => src.nodes.indexOf(n)))\n  //     .range([0, 300]); //todo\n  //\n  //   const axis = axisBottom(scale);\n  //\n  //   svg\n  //     .select(\".scrubber-axis\")\n  //     .style(\"transform\", `translateY(70px)`) //todo\n  //     .call(axis);\n  //\n  //   svg\n  //     .append(\"circle\")\n  //     .attr(\"r\", 5)\n  //     .attr(\"cx\", activeData)\n  //     .attr(\"cy\", 50)\n  //     .call(dragged)\n  //     .on(\"click\", () => {setActiveData(activeData+=1)});\n  //\n  // }, [activeData, src]);\n\n\n  // <svg ref={svgRef} className=\"ui absolute center\">\n  //   <g className=\"scrubber-axis\" />\n  // </svg>\n\n  return (\n    <div className=\"ui absolute center\">\n      <button id=\"back\" onClick={handleClick} disabled={activeData===0}>&lt;</button>\n      {activeData}\n      <button id=\"foward\" onClick={handleClick} disabled={activeData===src.instants.length-1}>&gt;</button>\n    </div>\n  );\n}\n\nexport default Scrubber;\n","import React from 'react';\n\nfunction Legend() {\n  return (\n    <div className=\"ui absolute dropdown rightPos\">\n      Legend\n      <ul>\n        <li><span style={{backgroundColor: 'black'}}>&#8195;</span> Hank</li>\n        <li><span style={{backgroundColor: 'red'}}>&#8195;</span> Peggy</li>\n        <li><span style={{backgroundColor: '#4DA6FF'}}>&#8195;</span> Bobby</li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Legend;\n","import React from 'react';\n\nfunction SelectedDisplay(props){\n  if (!props.target) { //no selection\n    return <p>Selected: None</p>;\n  } else if (props.target.source) { //link\n    return <p>Selected: {props.target.source.name} ({props.target.source.id}) – {props.target.target.name} ({props.target.target.id})</p>;\n  } else if (props.target.start) { //zone\n    return <p>Selected: {props.target.name} ({props.target.start} - {props.target.end})</p>;\n  } else { //instant\n    return <p>Selected: {props.target.name} ({props.target.id})</p>;\n  }\n};\n\nexport default SelectedDisplay;\n","import React, { useState } from 'react';\nimport SelectedDisplay from './SelectedDisplay';\n\nfunction Certainty(props) {\n  // console.log(props.target);\n\n  const [input, setInput] = useState();\n\n  //set opacity of target\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (props.target.start) { //zone\n      const newZones = [...props.zones];\n      const zone = newZones.find(n => n.id === props.target.id);\n      zone.opacity = parseFloat(input)*.5;\n      props.setZones(newZones);\n      return;\n    }\n\n    const newInstants = [...props.data];\n\n    if (props.target.source) { //link\n      const instant = newInstants.find(n => n.id === props.target.source.id);\n      instant.intervalOpacity = parseFloat(input);\n    } else { //instant\n      const instant = newInstants.find(n => n.id === props.target.id);\n      instant.intervalOpacity = instant.opacity ? instant.opacity : 1; //don't change interval opacity\n      instant.opacity = parseFloat(input);\n    }\n    props.updateSrc(newInstants);\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <SelectedDisplay target={props.target[1].text}/>\n      <label>\n        Certainty\n        <input type=\"text\"\n          placeholder=\"0 (never) - 1 (certain)\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          required\n        />\n      </label><br/>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Certainty;\n","import React, { useState } from 'react';\nimport SelectedDisplay from './SelectedDisplay';\n\nfunction Importance(props) { //TODO: intervals, negatives, \"steps\"\n\n  const [input, setInput] = useState();\n\n  //todo: make for interval also\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (props.target.start) { //zone\n      const newZones = [...props.Zones];\n      const zone = newZones.find(n => n.id === props.target.id);\n      zone.importance = parseFloat(input);\n      props.setZones(newZones);\n      return;\n    }\n\n    const newInstants = [...props.data];\n\n    if (props.target.source) { //link\n      const instant = newInstants.find(n => n.id === props.target.source.id);\n      instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\n    } else { //instant\n      const instant = newInstants.find(n => n.id === props.target.id);\n      instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\n    }\n    props.setData(newInstants);\n\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <SelectedDisplay target={props.target}/>\n      <label>\n        Importance\n        <input type=\"number\"\n          placeholder=\"ints relative to 0 (+ and -)\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          required\n        />\n      </label><br/>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Importance;\n","import React, { useState } from 'react';\n\nfunction Connection(props) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    /*\n      - error handling: check if target[0] and target[1] exists\n      - find instant w/ id of target[0] and:\n        - If target[1] is:\n          - instant, target[1].id\n          - interval, {\"x\": target.x-source.x, \"y\": mouse pointer, \"scale\":\"smalls\"}\n          - zone, {\"x\": 1622, \"y\": 12, \"scale\":\"smalls\"}\n    */\n\n    if (!props.target[0] || !props.target[0]) {\n      console.log(\"error\")\n      return;\n    }\n\n    const newInstants = [...props.data];\n    const instant = newInstants.find(n => n.id === props.target[0].id);\n    if (props.target[1].x) { //for interval and zone\n      const target = props.target[1]\n      instant.connections = [{\"x\": target.x, \"y\": target.y, \"scale\": target.scale}, 0]\n    } else { //for instants\n      const instant2 = newInstants.find(n => n.id === props.target[1].id);\n      instant.connections = [instant2.id, 0];\n      instant2.connections = [instant.id, 1];\n    }\n    //\n    // if (props.target.start) { //zone\n    //   const newzones = [...props.zones];\n    //   const zone = newzones.find(n => n.id === props.target.id);\n    //   zone.importance = parseFloat(input);\n    //   props.setZones(newZones);\n    //   return;\n    // }\n    //\n\n    //\n    // if (props.target.source) { //link\n    //   const instant = newInstants.find(n => n.id === props.target.source.id);\n    //   instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\n    // } else { //instant\n    //   const instant = newInstants.find(n => n.id === props.target.id);\n    //   instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\n    // }\n    props.setData(newInstants);\n\n\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <p>\n        Connect<br/>\n        <b>{props.target[0]?`${props.target[0].name}(${props.target[0].id})`: \"None\"}</b> {!props.target[2] && \"<\"}<br/>\n        with<br/>\n        <b>{props.target[1]?`${props.target[1].name}(${props.target[1].id})`: \"None\"}</b> {props.target[2]===1 && \"<\"}\n      </p>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Connection;\n","import React, { useState } from 'react';\n\nfunction WelcomeMessage({setProj, setFileName, setToggle, toggle}) {\n  const [name, setName] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setProj(true);\n    setFileName(name);\n  }\n\n  return (\n    <div className=\"fullHeight container bgSecondary\" onClick={(e) => toggle?setToggle(null):null}>\n      <div className=\"flexCenter thirdWidth\">\n        <h1>Hi, welcome to <br/>ChronoVis: Paintbox.</h1>\n        <p className=\"smallTxt\">By Johanna Drucker, developed by Skye Hoffman.</p>\n        <p className=\"smallTxt\">\n          A no-code graphical interface for generating temporal data visualizations,\n          designed by the humanities for the humanities. <a href=\"https://tinyurl.com/535yebj3\" target=\"_blank\">More info here.</a>\n        </p><br/>\n        <form className=\"container containerStretch flexRow\" onSubmit={handleSubmit}>\n          <input type=\"text\"\n            className=\"flexGrow2\"\n            placeholder=\"insert project name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />&nbsp;&nbsp;&nbsp;\n          <button className=\"buttonPrimary\">Create Project</button>\n        </form><br/>\n        <div className=\"container flexRow\">\n          <button className=\"buttonPrimary\" onClick={(e) => setToggle(\"import\")}>Import Project</button>&nbsp;&nbsp;&nbsp;\n          <button className=\"buttonPrimary\" onClick={(e) => {e.preventDefault(); window.open(\"https://youtu.be/y0sMNCfgH-8\")}}>\n            First Time?\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default WelcomeMessage;\n","//after creating new project & before creating scale\n\nfunction EmptyProj({setToggle, toggle}) {\n  return (\n    <div className=\"flexCenter\">\n      <button className=\"buttonPrimary\" onClick={() => setToggle(\"dataLibrary\")}>Import from Library</button> or <button className=\"buttonPrimary\" onClick={() => setToggle(\"addScale\")}>Create a scale</button>\n    </div>\n  );\n}\n\nexport default EmptyProj;\n","import React, {useState} from 'react';\n\n//after creating new project & before creating scale\n\nfunction DataLibrary({projects, updateSrc, setToggle}) {\n\n  const [selectedProject, setSelectedProject] = useState(\"\");\n\n  const handleChange = (e) => {\n    setSelectedProject(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(projects[selectedProject].data)\n    updateSrc(projects[selectedProject].data, \"import\");\n    setToggle(null);\n  }\n\n  const handleClose = (e) => {\n    e.preventDefault();\n    setToggle(null);\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n    <span className=\"textSecondary\"><b>Temporal Models Library</b><br/>\n    Some pre-constructed examples to stir the imagination.\n    </span><br/>\n      {\n        Object.entries(projects).map(([name, proj], i) =>\n          <div className=\"container flexRow\" key={i}>\n            <input type=\"radio\" value={name} onChange={handleChange} checked={selectedProject===name}/>\n            <p>\n              <b>{name}</b><br/>\n              {proj.description}<br/>\n            </p>\n          </div>\n        )\n      }\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  );\n}\n\nexport default DataLibrary;\n","import React, {useMemo, useEffect, useRef, useCallback} from 'react';\nimport HandsFree from 'handsfree';\n// import EventDispatcher from 'react-event-dispatcher';\n// import hands from '@mediapipe/hands';\n\n//https://handsfree.js.org\n//IMPORTANT: handsfree.js source code has been edited to turn pinchScroll into clicker\n\n\nfunction Hands(props) {\n  //init\n  const ref = useRef(); //creates reference for *this* render\n  //only re-renders on new ref. without useRef and useMemo, a new handsFree gets created on every render\n  const handsFree = useMemo(() =>\n    new HandsFree({\n      hands:{\n        enabled: true,\n        maxNumHands: 1\n      }\n    }), [ref]);\n  handsFree.enablePlugins('browser');\n  //handsFree.plugin.palmPointers.offset = {x: -200, y: -200}\n\n//only runs on component mount & dismount\n  useEffect(() => {\n    if (ref && ref.current) {\n      handsFree.start(()=>{handsFree.pause()}); //initializes loop but pauses it instantly\n    }\n    //stop webcam on unmount\n    return () => handsFree.stop();\n  }, []);\n\n\n  const KeyDetector = (props) => {\n    const keyPress = useCallback((event) => {\n      console.log(event)\n      if (event.code === 'AltLeft') {\n        if (!handsFree.isLooping){\n          handsFree.unpause();\n          // props.setEnabled(true);\n        } else {\n          handsFree.pause()\n          // props.setEnabled(false);\n        }\n      }\n    }, []);\n\n    //unsubscribe to avoid memory leaks\n    useEffect(() => {\n      document.addEventListener(\"keydown\", keyPress, true);\n\n      return () => {\n        document.removeEventListener(\"keydown\", keyPress, true);\n      };\n    }, []);\n\n    return (\n      <input className=\"debugging\"/>\n    )\n  };\n\n  /*\n\n  - disable pinch scroll\n  - if thumb and index pinched on any hand, dispatch click event\n\n  pinch start:\n  - create click event starting w current point\n  - elementFromPoint(curPinch[1][0].x, curPinch[1][0].y)\n\n  pinch held:\n  - create mouse move events\n\n  pinch released:\n  - create mouse up event\n\n  data.hands.pinchState[0][0] -> gets state of LH index finger\n  can be either \"start\", \"held\", \"released\"\n  handsFree.on(handsfree-finger-pinched-start-0)\n  handsFree.on(handsfree-finger-pinched-held-0)\n  handsFree.on(handsfree-finger-pinched-released-0)\n\n\n  */\n\n\n\n  return (\n    <div ref={ref}>\n      <KeyDetector/>\n    </div>\n  )\n};\n\nexport default Hands;\n","import React, { useState } from 'react';\nimport './stylesheets/index.scss';\n\n/// Component Imports ///\nimport Graphic from \"./components/Graphic\";\nimport Image from \"./components/Image\";\nimport NewInstantForm from \"./components/NewInstantForm\";\nimport NewIntervalForm from \"./components/NewIntervalForm\";\nimport NewZoneForm from \"./components/NewZoneForm\";\nimport NewScaleForm from \"./components/NewScaleForm\";\nimport EditScaleForm from \"./components/EditScaleForm\";\nimport InfoBox from \"./components/InfoBox\";\nimport ExportDataForm from \"./components/ExportDataForm\";\nimport ImportDataForm from \"./components/ImportDataForm\";\nimport NavBar from \"./components/NavBar\";\nimport Layers from \"./components/Layers\";\nimport Scrubber from \"./components/Scrubber\";\nimport Legend from \"./components/Legend\";\nimport Certainty from \"./components/Certainty\";\nimport Importance from \"./components/Importance\";\nimport Connection from \"./components/Connection\";\nimport WelcomeMessage from \"./components/WelcomeMessage\";\nimport generateIntervals from \"./components/generateIntervals\";\nimport EmptyProj from \"./components/EmptyProj\";\nimport DataLibrary from \"./components/DataLibrary\";\n\n/// Data Imports ///\nimport Data from \"./data.json\";\nimport NullData from \"./NullData.json\";\nimport LifeImportanceData from \"./life_by_importance.json\"\nimport TagVisData from \"./tagVis.json\";\nimport WaitingForBusData from \"./waiting_for_bus.json\"\n\n//for installation\nimport Hands from './components/Hands';\n\n\nfunction translateData({data, nullData}) {\n  const newData = {...nullData};\n  const newInst = newData.instants[0];\n  const scaleName = \"calendarDate\";\n  const xValues = [];\n  const yValues = [];\n  const segments = [];\n  // var key = 0;\n  var segmentMin = null;\n\n  //TODO: automated scale generation\n  for (const datum of data) {\n    newInst[`${datum.id}`] = {\n      \"x\": datum.calendarDate,\n      \"y\": datum.cy,\n      \"scale\": [(datum.calendarDate<0)?\"early\":scaleName, \"Order in Text\"],\n      // \"target\": [datum.targets[datum.targets.length-1]], //???\n      \"text\": datum.innerText,\n      // ...(e.target.color && {\"color\": e.target.color.value}), //if color is specified, create color entry in data\n      // ...(e.target.radius && {\"radius\": e.target.radius.value}),\n      // ...(e.target.opacity && {\"opacity\": e.target.opacity.value})\n    };\n    xValues.push(datum.calendarDate);\n    yValues.push(datum.cy)\n    // key++;\n  }\n\n  xValues.sort((a, b) => a-b); //smallest to largest\n  yValues.sort((a, b) => a-b); //smallest to largest\n\n\n  // //TODO: automated scale generation\n  // xValues.forEach((val, i) => {\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) {\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\":xValues[i]\n  //     })\n  //     segmentMin = xValues[i+1];\n  //   } else if ((segments.length) && (i===xValues.length-1)){ //if there are segments and this is the last value\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\": null\n  //     })\n  //   };\n  // });\n  // for (let i; i=0; i++) {\n  //   console.log(xValues[i]+Math.abs(xValues[i])<xValues[i+1]);\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) { //if a value is less than 1/2 of the next value, create a segment\n  //     // segments.push({\n  //     //   \"min\": segmentMin,\n  //     //   \"max\":xValues[i]\n  //     // })\n  //     // segmentMin = xValues[i+1];\n  //   }\n  // }\n  newData.scales.x[\"early\"] = {\n    \"min\": xValues[0]-10,\n    \"max\": xValues[0]+1000,\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"hideLabel\":true,\n    \"segments\": [{max: xValues[0]}] //todo\n  }\n\n  newData.scales.x[`${scaleName}`] = {\n    \"min\": xValues[2]-90,\n    \"max\": xValues[xValues.length-1],\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"segments\": [{min:xValues[2]}] //todo\n  }\n\n  newData.scales.y[\"Order in Text\"] = {\n    \"min\": yValues[0],\n    \"max\": yValues[xValues.length-1],\n    \"units\": \"paragraph\"\n  }\n\n\n  // console.log(minX, maxX);\n  // console.log(newData.scales);\n  return newData;\n}\n\n\n// function scalesList(scales) {\n//   Object.keys(scales).map((key, i) => {\n//     return <option value={key} key={i}>{key}</option>\n//   });\n// }\n\nfunction App() {\n\n  const projects = {\n    \"My Life by Importance\": {\n      description:\"A temporal model of events in my life organized by importance, as featured in the video tutorial.\",\n      data: LifeImportanceData\n    },\n    \"The Anthropocene Signal Amidst the Noise\": {\n      description:\"AKA ChronoVis: TagVis, this data was imported and formatted from the UCLAB Anthropocene Curriculum Project. Special thanks to Francesca Morini and Marian Dörk.\",\n      data: TagVisData\n    },\n    \"Waiting for the bus\": {\n      description:`\"I woke up at 7:30 am in someone else's bed today and it took me half an hour to get up. Thankfully, I won't be missing the 8:15AM bus, I thought. I tried to remember what happened last night but all I could recall was leaving the house at 9PM. Anyway, when I got to the bus stop 2 minutes before it was set to arrive, I waited and waited but it never showed up.\"`,\n      data: WaitingForBusData\n    },\n  }\n\n  const scaleData = {\n    \"imgs\": [],\n    \"instants\":\n    [\n      []\n    ],\n    \"zones\":\n    [],\n    \"scales\":\n    {\n      \"x\":{\n        \"Egyptian Dynasties\": {\n          \"min\": -3100,\n          \"max\": -30,\n          \"units\": \"Years BCE\",\n          \"yPos\": 1,\n          \"tickValues\": [],\n          \"segments\": [\n            // {\"max\": -2686, \"label\": \"Early Dynastic\"},\n            // {\"min\": -2686, \"max\": -2181, \"label\": \"Old Kingdom\"},\n            // {\"min\": -2181, \"max\": -2040, \"label\": \"First Intermediate Period\"},\n            // {\"min\": -2040, \"max\": -1649, \"label\": \"Middle Kingdom\"},\n            // {\"min\": -1649, \"max\": -1550, \"label\": \"Second Intermediate Period\"},\n            // {\"min\": -1550, \"max\": -1077, \"label\": \"New Kingdom\"},\n            // {\"min\": -1077, \"max\": -656, \"label\": \"Third Intermediate Period\"},\n            // {\"min\": -656, \"max\": -332, \"label\": \"Late Period\"},\n            // {\"min\": -332, \"label\": \"Graeco-Roman\"}\n          ]\n        }\n      },\n      \"y\":{\n        \"Place in Text\": {\n          \"min\": 3,\n          \"max\": 11,\n          \"units\": \"paragraph\"\n        }\n      }\n    }\n  };\n\n\n  //user defined\n  const radius = 4;\n\n  //for entire project\n  const [proj, setProj] = useState(false);\n  const [fileName, setFileName] = useState(\"\");\n\n  //for the entire ChronoJSON\n  // console.log(translateData({data:TagVisData,nullData:NullData}))\n  // console.log(TagVisData)\n  const [src, setSrc] = useState(NullData);\n\n  //for ChronoJSON history. for undo and redo\n  const [history, setHistory] = useState([]) //make fixed length array\n\n  //--- copies of the source data. altering visual views does not necessarily change src data---//\n  //for toggling the active data as used by scrubber\n  const [activeData, setActiveData] = useState(0);\n  //for toggling the active layer\n  const [activeLayer, setActiveLayer] = useState();\n  //for active tool modes\n  const [activeTool, setActiveTool] = useState();\n\n  //initialize datapoints\n  const [data, setData] = useState(src.instants[activeData]);\n  //links are initialized in Graphic.js\n  // const [links, setLinks] = useState(generateLinks(src.instants[activeData]))\n  //initialize zones\n  const [zones, setZones] = useState(src.zones);\n  //initialize scales\n  const [scales, setScales] = useState(src.scales);\n\n  //toggles datapoint IDs vs labels\n  const [showLabel, setShowLabel] = useState(true);\n\n  //for toggling the active scale\n  const [activeScale, setActiveScale] = useState([Object.keys(scales.x)[0],Object.keys(scales.y)[0]])\n\n  //---UI stuff---//\n  //UI window toggles\n  const [toggle, setToggle] = useState();\n  //Navbar dropdown toggles\n  const [nav, setNav] = useState();\n  //UI info boxes for points, intervals, etc.\n  const [info, setInfo] = useState();\n  //Inflection info\n  const [inflectTarget, setInflectTarget] = useState();\n  //Syntactic inflections order\n  const [syntacticOrder, setSyntacticOrder] = useState([null, null, null]); //[target1, target2, #]. # dictates order, switches b/w 0 and 1\n\n  //--- functions ---//\n  const updateSrc = (newData, key) => {\n    setHistory([...history, {src:src, activeScale: activeScale, activeData: activeData, activeLayer: activeLayer}]); //history.length-1 is last src before this\n\n    if (key===\"import\") {\n      //copy & pasted from ImportDataForm\n\n      setScales(newData.scales);\n      setActiveScale([Object.keys(newData.scales.x)[0],Object.keys(newData.scales.y)[0]]);\n      setActiveData(0);\n      setData(newData.instants[activeData]);\n      setZones(newData.zones);\n      setSrc(newData);\n      return;\n    }\n\n    const newSrc = src;\n    //why is console.log(data) before & after the same, but new data point still shows up\n    //have a function where, if incoming data greater than scale max or less than scale min, set that to scale max/min\n    if (key===\"zones\") {\n      setZones(newData);\n      newSrc.zones = zones;\n    } else if (key===\"scales\") {\n      setScales(newData);\n      newSrc.scales = newData;\n    } else {\n      setData(newData);\n      newSrc.instants[activeData] = data;\n    }\n    console.log(history);\n    setSrc(newSrc);\n    setToggle(null);\n  }\n\n const undo = () => {\n   const newHistory = [...history];\n   const last = newHistory.pop();\n   if (newHistory.length&&(last !== undefined)) {\n     console.log(newHistory.pop())\n     setHistory([newHistory]);\n     setActiveScale(last.activeScale);\n     setActiveData(last.activeData);\n     setActiveLayer(last.activeLayer);\n     setSrc(last.src);\n     setScales(last.src.scales);\n     setData(last.src.instants[activeData]);\n     setZones(last.src.zones);\n   } else {\n     //turn off undo button\n   }\n }\n\n\n  // console.log(info);\n  /*\n    TODO:\n    - for piecewise timeline, make function that generates different graphics\n  */\n//\n  return (\n    <>\n      {\n        <>\n          <Hands />\n        </>\n      }\n\n      {info && <InfoBox\n        info={info}\n        setInfo={setInfo}\n        history={history} setHistory={setHistory}\n        data={data} setData={setData}\n        src={src} setSrc={setSrc}\n        updateSrc={updateSrc}\n        zones={zones}\n        radius={radius}\n      />}\n      <NavBar\n        toggle={toggle}\n        setToggle={setToggle}\n        nav={nav} setNav={setNav}\n        data={data} showLabel={showLabel}\n        setShowLabel={setShowLabel}\n        hasScales={Object.keys(scales.y).length}\n        fileName={fileName}\n        setFileName={setFileName}\n        proj={proj}\n        undo={undo}\n      />\n      <div onClick={(e) => (toggle)?setNav(null):null}>\n        {toggle === \"dataLibrary\" && <DataLibrary projects={projects} updateSrc={updateSrc} setToggle={setToggle}/>}\n        {toggle===\"scrubber\" && <Scrubber activeData={activeData} setActiveData={setActiveData} src={src} setData={setData}/>}\n        {toggle===\"NewInstantForm\" &&\n          <NewInstantForm\n            data={data}\n            setData={setData}\n            target={inflectTarget}\n            setToggle={setToggle}\n            scales={src.scales}\n            activeScale={activeScale}\n            activeData={activeData}\n            history={history} setHistory={setHistory}\n            updateSrc={updateSrc}\n          />\n        }\n        {toggle===\"editScale\" && <EditScaleForm scales={scales} updateSrc={updateSrc} setToggle={setToggle} activeScale={activeScale} setActiveScale={setActiveScale}/>}\n        {toggle===\"addZone\" && <NewZoneForm zones={zones} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale}/>}\n        {toggle===\"addInterval\" && <NewIntervalForm data={data} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale} history={history} setHistory={setHistory}/>}\n        {toggle===\"addScale\" && <NewScaleForm src={src} updateSrc={updateSrc} setToggle={setToggle} setActiveScale={setActiveScale}/>}\n        {toggle===\"save\" &&\n          <ExportDataForm\n            src={src}\n            setSrc={setSrc}\n            data={data}\n            zones={zones}\n            scales={scales}\n            activeData={activeData}\n            setToggle={setToggle}\n            fileName={fileName}\n          />\n        }\n        {toggle===\"legend\" && <Legend/>}\n        {toggle===\"layers\" && <Layers activeLayer={activeLayer} setActiveLayer={setActiveLayer} data={data}/>}\n        {toggle===\"import\" &&\n          <ImportDataForm\n            updateSrc={updateSrc}\n            setToggle={setToggle}\n            setProj={setProj}\n            setFileName={setFileName}\n          />\n        }\n        {toggle===\"certainty\" &&\n          <Certainty\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            updateSrc={updateSrc}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n        {toggle===\"importance\" &&\n          <Importance\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n            radius={radius}\n            setProj={setProj}\n          />\n        }\n        {toggle===\"connection\" &&\n          <Connection\n            target={syntacticOrder}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n\n        {\n          proj ?\n          <div id=\"main\" className=\"container fullHeight\">\n            {Object.keys(scales.x).length ?\n              <Graphic\n                data={data}\n                setData={setData}\n                updateSrc={updateSrc}\n                zones={zones}\n                setZones={setZones}\n                radius={radius}\n                info={info}\n                setInfo={setInfo}\n                setInflectTarget={setInflectTarget}\n                showLabel={showLabel}\n                activeLayer={activeLayer}\n                toggle={toggle}\n                setToggle={setToggle}\n                scales={scales}\n                setScales={setScales}\n                syntacticOrder={syntacticOrder}\n                setSyntacticOrder={setSyntacticOrder}\n                activeScale={activeScale}\n              />\n              : <EmptyProj toggle={toggle} setToggle={setToggle}/>\n            }\n            {src.imgs.length>0 && <Image urls={src.imgs}/>}\n          </div> :\n          <WelcomeMessage setProj={setProj} setFileName={setFileName} toggle={toggle} setToggle={setToggle}/>\n        }\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './stylesheets/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}